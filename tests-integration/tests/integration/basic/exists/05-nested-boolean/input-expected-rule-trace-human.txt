Model before rewriting:

find check: bool

such that

(check = or([given p: int(1..5)

such that

and([(p > 2),(p < 4);int(1..)])
 | p: int(1..5),]))

--

(check = or([given p: int(1..5)

such that

and([(p > 2),(p < 4);int(1..)])
 | p: int(1..5),])), 
   ~~> constant_evaluator ([("Constant", 9001)]) 
(check = or([given p: int(1..5)

such that

(p > 2),
(p < 4)
 | p: int(1..5),])) 

--

(check = or([given p: int(1..5)

such that

(p > 2),
(p < 4)
 | p: int(1..5),])), 
   ~~> bool_eq_to_reify ([("Minion", 4400)]) 
Reify(or([given p: int(1..5)

such that

(p > 2),
(p < 4)
 | p: int(1..5),]), check) 

--

Model before rewriting:

find p: int(1..5)

such that

(false != and([(p > 2),(p < 4);int(1..)]))

--

(p > 2), 
   ~~> gt_to_geq ([("Minion", 8400)]) 
(sum([p,-1;int(1..)]) >= 2) 

--

(p < 4), 
   ~~> lt_to_leq ([("Minion", 8400)]) 
(p <= sum([4,-1;int(1..)])) 

--

(false != and([(sum([p,-1;int(1..)]) >= 2),(p <= sum([4,-1;int(1..)]));int(1..)])), 
   ~~> constant_evaluator ([("Constant", 9001)]) 
(false != and([(sum([p,-1;int(1..)]) >= 2),(p <= 3);int(1..)])) 

--

(sum([p,-1;int(1..)]) >= 2), 
   ~~> y_plus_k_geq_x_to_ineq ([("Minion", 4800)]) 
Ineq(2, p, -1) 

--

(false != and([Ineq(2, p, -1),(p <= 3);int(1..)])), 
   ~~> flatten_generic ([("Minion", 4200)]) 
(false != __0) 
new variables:
  find __0: bool
new constraints:
  __0 =aux and([Ineq(2, p, -1),(p <= 3);int(1..)])
--

__0 =aux and([Ineq(2, p, -1),(p <= 3);int(1..)]), 
   ~~> bool_eq_to_reify ([("Minion", 4400)]) 
Reify(and([Ineq(2, p, -1),(p <= 3);int(1..)]), __0) 

--

(p <= 3), 
   ~~> leq_to_ineq ([("Minion", 4100)]) 
Ineq(p, 3, 0) 

--

Final model:

find p: int(1..5)
find __0: bool

such that

(false != __0),
Reify(and([Ineq(2, p, -1),Ineq(p, 3, 0);int(1..)]), __0)

Model before rewriting:

given p: int(1..5)

such that

(p > 2),
(p < 4)

--

(p > 2), 
   ~~> gt_to_geq ([("Minion", 8400)]) 
(sum([p,-1;int(1..)]) >= 2) 

--

(p < 4), 
   ~~> lt_to_leq ([("Minion", 8400)]) 
(p <= sum([4,-1;int(1..)])) 

--

(sum([p,-1;int(1..)]) >= 2),
(p <= sum([4,-1;int(1..)])), 
   ~~> constant_evaluator ([("Constant", 9001)]) 
(sum([p,-1;int(1..)]) >= 2),
(p <= 3) 

--

(sum([p,-1;int(1..)]) >= 2), 
   ~~> y_plus_k_geq_x_to_ineq ([("Minion", 4800)]) 
Ineq(2, p, -1) 

--

(p <= 3), 
   ~~> leq_to_ineq ([("Minion", 4100)]) 
Ineq(p, 3, 0) 

--

Final model:

given p: int(1..5)

such that

Ineq(2, p, -1),
Ineq(p, 3, 0)

or([given p: int(1..5)

such that

(p > 2),
(p < 4)
 | p: int(1..5),__0: bool,]), 
   ~~> expand_comprehension_ac ([("Better_AC_Comprehension_Expansion", 2001)]) 
or([and([Ineq(2, 3, -1),Ineq(3, 3, 0);int(1..)]);int(1..)]) 

--

Reify(or([and([Ineq(2, 3, -1),Ineq(3, 3, 0);int(1..)]);int(1..)]), check), 
   ~~> constant_evaluator ([("Constant", 9001)]) 
Reify(true, check) 

--

Final model:

find check: bool

such that

Reify(true, check)

