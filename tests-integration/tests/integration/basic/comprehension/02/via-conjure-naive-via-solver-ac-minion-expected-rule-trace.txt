Model before rewriting:

find m: matrix indexed by [[int(1..5)]] of int(1..5)
find n: matrix indexed by [[int(1..5)]] of int(1..5)

such that

and([ (n[i] = (6 - i)) | i : int(1..5) ]),
and([ ((n[i] < 5)) -> ((m[i] = i)) | i : int(1..5), (i < 4) ])

--

and([ (n[i] = (6 - i)) | i : int(1..5) ]),
and([ ((n[i] < 5)) -> ((m[i] = i)) | i : int(1..5), (i < 4) ]), 
   ~~> select_representation_matrix ([("Representations", 8001)]) 
and([ (n[i] = (6 - i)) | i : int(1..5) ]),
and([ ((n[i] < 5)) -> ((m[i] = i)) | i : int(1..5), (i < 4) ]) 
new variables:
  find m#matrix_to_atom_1: int(1..5)
  find m#matrix_to_atom_2: int(1..5)
  find m#matrix_to_atom_3: int(1..5)
  find m#matrix_to_atom_4: int(1..5)
  find m#matrix_to_atom_5: int(1..5)
  find n#matrix_to_atom_1: int(1..5)
  find n#matrix_to_atom_2: int(1..5)
  find n#matrix_to_atom_3: int(1..5)
  find n#matrix_to_atom_4: int(1..5)
  find n#matrix_to_atom_5: int(1..5)
--

Model before rewriting:

find i: int(1..5)
find __0: matrix indexed by [[int(1..5)]] of int(1..5)

such that

(true != (__0[i] = (6 - i)))

--

(6 - i), 
   ~~> minus_to_sum ([("Base", 8400)]) 
sum([6,-(i);int(1..)]) 

--

(true != (__0#matrix_to_atom[i] = sum([6,-(i);int(1..)]))), 
   ~~> select_representation_matrix ([("Representations", 8001)]) 
(true != (__0#matrix_to_atom[i] = sum([6,-(i);int(1..)]))) 
new variables:
  find __0#matrix_to_atom_1: int(1..5)
  find __0#matrix_to_atom_2: int(1..5)
  find __0#matrix_to_atom_3: int(1..5)
  find __0#matrix_to_atom_4: int(1..5)
  find __0#matrix_to_atom_5: int(1..5)
--

__0#matrix_to_atom[i], 
   ~~> index_to_bubble ([("Bubble", 6000)]) 
{__0#matrix_to_atom[i] @ and([__inDomain(i,int(1..5));int(1..)])} 

--

(true != ({__0#matrix_to_atom[i] @ and([__inDomain(i,int(1..5));int(1..)])} = sum([6,-(i);int(1..)]))), 
   ~~> constant_evaluator ([("Constant", 9001)]) 
(true != (__0#matrix_to_atom[i] = sum([6,-(i);int(1..)]))) 

--

(true != (__0#matrix_to_atom[i] = sum([6,-(i);int(1..)]))), 
   ~~> index_matrix_to_atom ([("Base", 5000)]) 
(true != ([__0#matrix_to_atom_1,__0#matrix_to_atom_2,__0#matrix_to_atom_3,__0#matrix_to_atom_4,__0#matrix_to_atom_5;int(1..)][(i - 0)] = sum([6,-(i);int(1..)]))) 

--

(i - 0), 
   ~~> minus_to_sum ([("Base", 8400)]) 
sum([i,-(0);int(1..)]) 

--

(true != ([__0#matrix_to_atom_1,__0#matrix_to_atom_2,__0#matrix_to_atom_3,__0#matrix_to_atom_4,__0#matrix_to_atom_5;int(1..)][sum([i,-(0);int(1..)])] = sum([6,-(i);int(1..)]))), 
   ~~> constant_evaluator ([("Constant", 9001)]) 
(true != ([__0#matrix_to_atom_1,__0#matrix_to_atom_2,__0#matrix_to_atom_3,__0#matrix_to_atom_4,__0#matrix_to_atom_5;int(1..)][sum([i,0;int(1..)])] = sum([6,-(i);int(1..)]))) 

--

(true != ([__0#matrix_to_atom_1,__0#matrix_to_atom_2,__0#matrix_to_atom_3,__0#matrix_to_atom_4,__0#matrix_to_atom_5;int(1..)][sum([i,0;int(1..)])] = sum([6,-(i);int(1..)]))), 
   ~~> flatten_generic ([("Minion", 4200)]) 
(true != __1) 
new variables:
  find __1: bool
new constraints:
  __1 =aux ([__0#matrix_to_atom_1,__0#matrix_to_atom_2,__0#matrix_to_atom_3,__0#matrix_to_atom_4,__0#matrix_to_atom_5;int(1..)][sum([i,0;int(1..)])] = sum([6,-(i);int(1..)]))
--

__1 =aux ([__0#matrix_to_atom_1,__0#matrix_to_atom_2,__0#matrix_to_atom_3,__0#matrix_to_atom_4,__0#matrix_to_atom_5;int(1..)][sum([i,0;int(1..)])] = sum([6,-(i);int(1..)])), 
   ~~> bool_eq_to_reify ([("Minion", 4400)]) 
Reify(([__0#matrix_to_atom_1,__0#matrix_to_atom_2,__0#matrix_to_atom_3,__0#matrix_to_atom_4,__0#matrix_to_atom_5;int(1..)][sum([i,0;int(1..)])] = sum([6,-(i);int(1..)])), __1) 

--

[__0#matrix_to_atom_1,__0#matrix_to_atom_2,__0#matrix_to_atom_3,__0#matrix_to_atom_4,__0#matrix_to_atom_5;int(1..)][sum([i,0;int(1..)])], 
   ~~> flatten_generic ([("Minion", 4200)]) 
[__0#matrix_to_atom_1,__0#matrix_to_atom_2,__0#matrix_to_atom_3,__0#matrix_to_atom_4,__0#matrix_to_atom_5;int(1..)][__2] 
new variables:
  find __2: int(1..5)
new constraints:
  __2 =aux sum([i,0;int(1..)])
--

__2 =aux sum([i,0;int(1..)]), 
   ~~> introduce_weighted_sumleq_sumgeq ([("Minion", 4600)]) 
and([SumLeq([0, i], __2),SumGeq([0, i], __2);int(1..)]) 

--

(true != __1),
Reify(([__0#matrix_to_atom_1,__0#matrix_to_atom_2,__0#matrix_to_atom_3,__0#matrix_to_atom_4,__0#matrix_to_atom_5;int(1..)][__2] = sum([6,-(i);int(1..)])), __1),
and([SumLeq([0, i], __2),SumGeq([0, i], __2);int(1..)]), 
   ~~> constant_evaluator ([("Constant", 9001)]) 
(true != __1),
Reify(([__0#matrix_to_atom_1,__0#matrix_to_atom_2,__0#matrix_to_atom_3,__0#matrix_to_atom_4,__0#matrix_to_atom_5;int(1..)][__2] = sum([6,-(i);int(1..)])), __1),
SumLeq([0, i], __2),
SumGeq([0, i], __2) 

--

Final model:

find i: int(1..5)
find __0: matrix indexed by [[int(1..5)]] of int(1..5)
find __1: bool
find __2: int(1..5)
find __0#matrix_to_atom_1: int(1..5)
find __0#matrix_to_atom_2: int(1..5)
find __0#matrix_to_atom_3: int(1..5)
find __0#matrix_to_atom_4: int(1..5)
find __0#matrix_to_atom_5: int(1..5)

such that

(true != __1),
Reify(([__0#matrix_to_atom_1,__0#matrix_to_atom_2,__0#matrix_to_atom_3,__0#matrix_to_atom_4,__0#matrix_to_atom_5;int(1..)][__2] = sum([6,-(i);int(1..)])), __1),
SumLeq([0, i], __2),
SumGeq([0, i], __2)

Model before rewriting:

find i: int(1..5)
find __0: matrix indexed by [[int(1..5)]] of int(1..5)
find __1: matrix indexed by [[int(1..5)]] of int(1..5)

such that

(i < 4),
(true != ((__0[i] < 5)) -> ((__1[i] = i)))

--

(i < 4), 
   ~~> lt_to_leq ([("Minion", 8400)]) 
(i <= sum([4,-1;int(1..)])) 

--

(i <= sum([4,-1;int(1..)])),
(true != ((__0[i] < 5)) -> ((__1[i] = i))), 
   ~~> constant_evaluator ([("Constant", 9001)]) 
(i <= 3),
(true != ((__0[i] < 5)) -> ((__1[i] = i))) 

--

(__0[i] < 5), 
   ~~> lt_to_leq ([("Minion", 8400)]) 
(__0[i] <= sum([5,-1;int(1..)])) 

--

(i <= 3),
(true != ((__0[i] <= sum([5,-1;int(1..)]))) -> ((__1[i] = i))), 
   ~~> constant_evaluator ([("Constant", 9001)]) 
(i <= 3),
(true != ((__0[i] <= 4)) -> ((__1[i] = i))) 

--

(i <= 3),
(true != ((__0#matrix_to_atom[i] <= 4)) -> ((__1#matrix_to_atom[i] = i))), 
   ~~> select_representation_matrix ([("Representations", 8001)]) 
(i <= 3),
(true != ((__0#matrix_to_atom[i] <= 4)) -> ((__1#matrix_to_atom[i] = i))) 
new variables:
  find __0#matrix_to_atom_1: int(1..5)
  find __0#matrix_to_atom_2: int(1..5)
  find __0#matrix_to_atom_3: int(1..5)
  find __0#matrix_to_atom_4: int(1..5)
  find __0#matrix_to_atom_5: int(1..5)
  find __1#matrix_to_atom_1: int(1..5)
  find __1#matrix_to_atom_2: int(1..5)
  find __1#matrix_to_atom_3: int(1..5)
  find __1#matrix_to_atom_4: int(1..5)
  find __1#matrix_to_atom_5: int(1..5)
--

__0#matrix_to_atom[i], 
   ~~> index_to_bubble ([("Bubble", 6000)]) 
{__0#matrix_to_atom[i] @ and([__inDomain(i,int(1..5));int(1..)])} 

--

(i <= 3),
(true != (({__0#matrix_to_atom[i] @ and([__inDomain(i,int(1..5));int(1..)])} <= 4)) -> ((__1#matrix_to_atom[i] = i))), 
   ~~> constant_evaluator ([("Constant", 9001)]) 
(i <= 3),
(true != ((__0#matrix_to_atom[i] <= 4)) -> ((__1#matrix_to_atom[i] = i))) 

--

__1#matrix_to_atom[i], 
   ~~> index_to_bubble ([("Bubble", 6000)]) 
{__1#matrix_to_atom[i] @ and([__inDomain(i,int(1..5));int(1..)])} 

--

(i <= 3),
(true != ((__0#matrix_to_atom[i] <= 4)) -> (({__1#matrix_to_atom[i] @ and([__inDomain(i,int(1..5));int(1..)])} = i))), 
   ~~> constant_evaluator ([("Constant", 9001)]) 
(i <= 3),
(true != ((__0#matrix_to_atom[i] <= 4)) -> ((__1#matrix_to_atom[i] = i))) 

--

(i <= 3),
(true != ((__0#matrix_to_atom[i] <= 4)) -> ((__1#matrix_to_atom[i] = i))), 
   ~~> index_matrix_to_atom ([("Base", 5000)]) 
(i <= 3),
(true != (([__0#matrix_to_atom_1,__0#matrix_to_atom_2,__0#matrix_to_atom_3,__0#matrix_to_atom_4,__0#matrix_to_atom_5;int(1..)][(i - 0)] <= 4)) -> (([__1#matrix_to_atom_1,__1#matrix_to_atom_2,__1#matrix_to_atom_3,__1#matrix_to_atom_4,__1#matrix_to_atom_5;int(1..)][(i - 0)] = i))) 

--

(i - 0), 
   ~~> minus_to_sum ([("Base", 8400)]) 
sum([i,-(0);int(1..)]) 

--

(i <= 3),
(true != (([__0#matrix_to_atom_1,__0#matrix_to_atom_2,__0#matrix_to_atom_3,__0#matrix_to_atom_4,__0#matrix_to_atom_5;int(1..)][sum([i,-(0);int(1..)])] <= 4)) -> (([__1#matrix_to_atom_1,__1#matrix_to_atom_2,__1#matrix_to_atom_3,__1#matrix_to_atom_4,__1#matrix_to_atom_5;int(1..)][(i - 0)] = i))), 
   ~~> constant_evaluator ([("Constant", 9001)]) 
(i <= 3),
(true != (([__0#matrix_to_atom_1,__0#matrix_to_atom_2,__0#matrix_to_atom_3,__0#matrix_to_atom_4,__0#matrix_to_atom_5;int(1..)][sum([i,0;int(1..)])] <= 4)) -> (([__1#matrix_to_atom_1,__1#matrix_to_atom_2,__1#matrix_to_atom_3,__1#matrix_to_atom_4,__1#matrix_to_atom_5;int(1..)][(i - 0)] = i))) 

--

(i - 0), 
   ~~> minus_to_sum ([("Base", 8400)]) 
sum([i,-(0);int(1..)]) 

--

(i <= 3),
(true != (([__0#matrix_to_atom_1,__0#matrix_to_atom_2,__0#matrix_to_atom_3,__0#matrix_to_atom_4,__0#matrix_to_atom_5;int(1..)][sum([i,0;int(1..)])] <= 4)) -> (([__1#matrix_to_atom_1,__1#matrix_to_atom_2,__1#matrix_to_atom_3,__1#matrix_to_atom_4,__1#matrix_to_atom_5;int(1..)][sum([i,-(0);int(1..)])] = i))), 
   ~~> constant_evaluator ([("Constant", 9001)]) 
(i <= 3),
(true != (([__0#matrix_to_atom_1,__0#matrix_to_atom_2,__0#matrix_to_atom_3,__0#matrix_to_atom_4,__0#matrix_to_atom_5;int(1..)][sum([i,0;int(1..)])] <= 4)) -> (([__1#matrix_to_atom_1,__1#matrix_to_atom_2,__1#matrix_to_atom_3,__1#matrix_to_atom_4,__1#matrix_to_atom_5;int(1..)][sum([i,0;int(1..)])] = i))) 

--

(true != (([__0#matrix_to_atom_1,__0#matrix_to_atom_2,__0#matrix_to_atom_3,__0#matrix_to_atom_4,__0#matrix_to_atom_5;int(1..)][sum([i,0;int(1..)])] <= 4)) -> (([__1#matrix_to_atom_1,__1#matrix_to_atom_2,__1#matrix_to_atom_3,__1#matrix_to_atom_4,__1#matrix_to_atom_5;int(1..)][sum([i,0;int(1..)])] = i))), 
   ~~> flatten_generic ([("Minion", 4200)]) 
(true != __2) 
new variables:
  find __2: bool
new constraints:
  __2 =aux (([__0#matrix_to_atom_1,__0#matrix_to_atom_2,__0#matrix_to_atom_3,__0#matrix_to_atom_4,__0#matrix_to_atom_5;int(1..)][sum([i,0;int(1..)])] <= 4)) -> (([__1#matrix_to_atom_1,__1#matrix_to_atom_2,__1#matrix_to_atom_3,__1#matrix_to_atom_4,__1#matrix_to_atom_5;int(1..)][sum([i,0;int(1..)])] = i))
--

__2 =aux (([__0#matrix_to_atom_1,__0#matrix_to_atom_2,__0#matrix_to_atom_3,__0#matrix_to_atom_4,__0#matrix_to_atom_5;int(1..)][sum([i,0;int(1..)])] <= 4)) -> (([__1#matrix_to_atom_1,__1#matrix_to_atom_2,__1#matrix_to_atom_3,__1#matrix_to_atom_4,__1#matrix_to_atom_5;int(1..)][sum([i,0;int(1..)])] = i)), 
   ~~> bool_eq_to_reify ([("Minion", 4400)]) 
Reify((([__0#matrix_to_atom_1,__0#matrix_to_atom_2,__0#matrix_to_atom_3,__0#matrix_to_atom_4,__0#matrix_to_atom_5;int(1..)][sum([i,0;int(1..)])] <= 4)) -> (([__1#matrix_to_atom_1,__1#matrix_to_atom_2,__1#matrix_to_atom_3,__1#matrix_to_atom_4,__1#matrix_to_atom_5;int(1..)][sum([i,0;int(1..)])] = i)), __2) 

--

(([__0#matrix_to_atom_1,__0#matrix_to_atom_2,__0#matrix_to_atom_3,__0#matrix_to_atom_4,__0#matrix_to_atom_5;int(1..)][sum([i,0;int(1..)])] <= 4)) -> (([__1#matrix_to_atom_1,__1#matrix_to_atom_2,__1#matrix_to_atom_3,__1#matrix_to_atom_4,__1#matrix_to_atom_5;int(1..)][sum([i,0;int(1..)])] = i)), 
   ~~> flatten_imply ([("Minion", 4200)]) 
(__3) -> (([__1#matrix_to_atom_1,__1#matrix_to_atom_2,__1#matrix_to_atom_3,__1#matrix_to_atom_4,__1#matrix_to_atom_5;int(1..)][sum([i,0;int(1..)])] = i)) 
new variables:
  find __3: bool
new constraints:
  __3 =aux ([__0#matrix_to_atom_1,__0#matrix_to_atom_2,__0#matrix_to_atom_3,__0#matrix_to_atom_4,__0#matrix_to_atom_5;int(1..)][sum([i,0;int(1..)])] <= 4)
--

(__3) -> (([__1#matrix_to_atom_1,__1#matrix_to_atom_2,__1#matrix_to_atom_3,__1#matrix_to_atom_4,__1#matrix_to_atom_5;int(1..)][sum([i,0;int(1..)])] = i)), 
   ~~> introduce_reifyimply_ineq_from_imply ([("Minion", 4400)]) 
ReifyImply(([__1#matrix_to_atom_1,__1#matrix_to_atom_2,__1#matrix_to_atom_3,__1#matrix_to_atom_4,__1#matrix_to_atom_5;int(1..)][sum([i,0;int(1..)])] = i), __3) 

--

__3 =aux ([__0#matrix_to_atom_1,__0#matrix_to_atom_2,__0#matrix_to_atom_3,__0#matrix_to_atom_4,__0#matrix_to_atom_5;int(1..)][sum([i,0;int(1..)])] <= 4), 
   ~~> bool_eq_to_reify ([("Minion", 4400)]) 
Reify(([__0#matrix_to_atom_1,__0#matrix_to_atom_2,__0#matrix_to_atom_3,__0#matrix_to_atom_4,__0#matrix_to_atom_5;int(1..)][sum([i,0;int(1..)])] <= 4), __3) 

--

[__1#matrix_to_atom_1,__1#matrix_to_atom_2,__1#matrix_to_atom_3,__1#matrix_to_atom_4,__1#matrix_to_atom_5;int(1..)][sum([i,0;int(1..)])], 
   ~~> flatten_generic ([("Minion", 4200)]) 
[__1#matrix_to_atom_1,__1#matrix_to_atom_2,__1#matrix_to_atom_3,__1#matrix_to_atom_4,__1#matrix_to_atom_5;int(1..)][__4] 
new variables:
  find __4: int(1..5)
new constraints:
  __4 =aux sum([i,0;int(1..)])
--

__4 =aux sum([i,0;int(1..)]), 
   ~~> introduce_weighted_sumleq_sumgeq ([("Minion", 4600)]) 
and([SumLeq([0, i], __4),SumGeq([0, i], __4);int(1..)]) 

--

(i <= 3),
(true != __2),
Reify(ReifyImply(([__1#matrix_to_atom_1,__1#matrix_to_atom_2,__1#matrix_to_atom_3,__1#matrix_to_atom_4,__1#matrix_to_atom_5;int(1..)][__4] = i), __3), __2),
Reify(([__0#matrix_to_atom_1,__0#matrix_to_atom_2,__0#matrix_to_atom_3,__0#matrix_to_atom_4,__0#matrix_to_atom_5;int(1..)][sum([i,0;int(1..)])] <= 4), __3),
and([SumLeq([0, i], __4),SumGeq([0, i], __4);int(1..)]), 
   ~~> constant_evaluator ([("Constant", 9001)]) 
(i <= 3),
(true != __2),
Reify(ReifyImply(([__1#matrix_to_atom_1,__1#matrix_to_atom_2,__1#matrix_to_atom_3,__1#matrix_to_atom_4,__1#matrix_to_atom_5;int(1..)][__4] = i), __3), __2),
Reify(([__0#matrix_to_atom_1,__0#matrix_to_atom_2,__0#matrix_to_atom_3,__0#matrix_to_atom_4,__0#matrix_to_atom_5;int(1..)][sum([i,0;int(1..)])] <= 4), __3),
SumLeq([0, i], __4),
SumGeq([0, i], __4) 

--

([__1#matrix_to_atom_1,__1#matrix_to_atom_2,__1#matrix_to_atom_3,__1#matrix_to_atom_4,__1#matrix_to_atom_5;int(1..)][__4] = i), 
   ~~> introduce_element_from_index ([("Minion", 4400)]) 
__minion_element_one([__1#matrix_to_atom_1,__1#matrix_to_atom_2,__1#matrix_to_atom_3,__1#matrix_to_atom_4,__1#matrix_to_atom_5],__4,i) 

--

[__0#matrix_to_atom_1,__0#matrix_to_atom_2,__0#matrix_to_atom_3,__0#matrix_to_atom_4,__0#matrix_to_atom_5;int(1..)][sum([i,0;int(1..)])], 
   ~~> flatten_generic ([("Minion", 4200)]) 
[__0#matrix_to_atom_1,__0#matrix_to_atom_2,__0#matrix_to_atom_3,__0#matrix_to_atom_4,__0#matrix_to_atom_5;int(1..)][__5] 
new variables:
  find __5: int(1..5)
new constraints:
  __5 =aux sum([i,0;int(1..)])
--

__5 =aux sum([i,0;int(1..)]), 
   ~~> introduce_weighted_sumleq_sumgeq ([("Minion", 4600)]) 
and([SumLeq([0, i], __5),SumGeq([0, i], __5);int(1..)]) 

--

(i <= 3),
(true != __2),
Reify(ReifyImply(__minion_element_one([__1#matrix_to_atom_1,__1#matrix_to_atom_2,__1#matrix_to_atom_3,__1#matrix_to_atom_4,__1#matrix_to_atom_5],__4,i), __3), __2),
Reify(([__0#matrix_to_atom_1,__0#matrix_to_atom_2,__0#matrix_to_atom_3,__0#matrix_to_atom_4,__0#matrix_to_atom_5;int(1..)][__5] <= 4), __3),
SumLeq([0, i], __4),
SumGeq([0, i], __4),
and([SumLeq([0, i], __5),SumGeq([0, i], __5);int(1..)]), 
   ~~> constant_evaluator ([("Constant", 9001)]) 
(i <= 3),
(true != __2),
Reify(ReifyImply(__minion_element_one([__1#matrix_to_atom_1,__1#matrix_to_atom_2,__1#matrix_to_atom_3,__1#matrix_to_atom_4,__1#matrix_to_atom_5],__4,i), __3), __2),
Reify(([__0#matrix_to_atom_1,__0#matrix_to_atom_2,__0#matrix_to_atom_3,__0#matrix_to_atom_4,__0#matrix_to_atom_5;int(1..)][__5] <= 4), __3),
SumLeq([0, i], __4),
SumGeq([0, i], __4),
SumLeq([0, i], __5),
SumGeq([0, i], __5) 

--

(i <= 3), 
   ~~> leq_to_ineq ([("Minion", 4100)]) 
Ineq(i, 3, 0) 

--

Final model:

find i: int(1..5)
find __0: matrix indexed by [[int(1..5)]] of int(1..5)
find __1: matrix indexed by [[int(1..5)]] of int(1..5)
find __2: bool
find __3: bool
find __4: int(1..5)
find __5: int(1..5)
find __0#matrix_to_atom_1: int(1..5)
find __0#matrix_to_atom_2: int(1..5)
find __0#matrix_to_atom_3: int(1..5)
find __0#matrix_to_atom_4: int(1..5)
find __0#matrix_to_atom_5: int(1..5)
find __1#matrix_to_atom_1: int(1..5)
find __1#matrix_to_atom_2: int(1..5)
find __1#matrix_to_atom_3: int(1..5)
find __1#matrix_to_atom_4: int(1..5)
find __1#matrix_to_atom_5: int(1..5)

such that

Ineq(i, 3, 0),
(true != __2),
Reify(ReifyImply(__minion_element_one([__1#matrix_to_atom_1,__1#matrix_to_atom_2,__1#matrix_to_atom_3,__1#matrix_to_atom_4,__1#matrix_to_atom_5],__4,i), __3), __2),
Reify(([__0#matrix_to_atom_1,__0#matrix_to_atom_2,__0#matrix_to_atom_3,__0#matrix_to_atom_4,__0#matrix_to_atom_5;int(1..)][__5] <= 4), __3),
SumLeq([0, i], __4),
SumGeq([0, i], __4),
SumLeq([0, i], __5),
SumGeq([0, i], __5)

Model before rewriting:

quantified i: int(1..5)
find __0: matrix indexed by [[int(1..5)]] of int(1..5)
find __1: bool
find __2: int(1..5)
find __0#matrix_to_atom_1: int(1..5)
find __0#matrix_to_atom_2: int(1..5)
find __0#matrix_to_atom_3: int(1..5)
find __0#matrix_to_atom_4: int(1..5)
find __0#matrix_to_atom_5: int(1..5)

--

, 
   ~~> eval_root ([("Constant", 9001)]) 
true 

--

Final model:

quantified i: int(1..5)
find __0: matrix indexed by [[int(1..5)]] of int(1..5)
find __1: bool
find __2: int(1..5)
find __0#matrix_to_atom_1: int(1..5)
find __0#matrix_to_atom_2: int(1..5)
find __0#matrix_to_atom_3: int(1..5)
find __0#matrix_to_atom_4: int(1..5)
find __0#matrix_to_atom_5: int(1..5)

such that

true

[ (n[i] = (6 - i)) | i : int(1..5) ], 
   ~~> expand_comprehension_via_solver ([("Base", 2000)]) 
[(n[1] = 5),(n[2] = 4),(n[3] = 3),(n[4] = 2),(n[5] = 1);int(1..)] 

--

and([(n[1] = 5),(n[2] = 4),(n[3] = 3),(n[4] = 2),(n[5] = 1);int(1..)]),
and([ ((n[i] < 5)) -> ((m[i] = i)) | i : int(1..5), (i < 4) ]), 
   ~~> constant_evaluator ([("Constant", 9001)]) 
(n[1] = 5),
(n[2] = 4),
(n[3] = 3),
(n[4] = 2),
(n[5] = 1),
and([ ((n[i] < 5)) -> ((m[i] = i)) | i : int(1..5), (i < 4) ]) 

--

(n#matrix_to_atom[1] = 5),
(n#matrix_to_atom[2] = 4),
(n#matrix_to_atom[3] = 3),
(n#matrix_to_atom[4] = 2),
(n#matrix_to_atom[5] = 1),
and([ ((n#matrix_to_atom[i] < 5)) -> ((m[i] = i)) | i : int(1..5), (i < 4) ]), 
   ~~> select_representation_matrix ([("Representations", 8001)]) 
(n#matrix_to_atom[1] = 5),
(n#matrix_to_atom[2] = 4),
(n#matrix_to_atom[3] = 3),
(n#matrix_to_atom[4] = 2),
(n#matrix_to_atom[5] = 1),
and([ ((n#matrix_to_atom[i] < 5)) -> ((m[i] = i)) | i : int(1..5), (i < 4) ]) 

--

n#matrix_to_atom[1], 
   ~~> index_to_bubble ([("Bubble", 6000)]) 
{n#matrix_to_atom[1] @ and([__inDomain(1,int(1..5));int(1..)])} 

--

({n#matrix_to_atom[1] @ and([__inDomain(1,int(1..5));int(1..)])} = 5),
(n#matrix_to_atom[2] = 4),
(n#matrix_to_atom[3] = 3),
(n#matrix_to_atom[4] = 2),
(n#matrix_to_atom[5] = 1),
and([ ((n#matrix_to_atom[i] < 5)) -> ((m[i] = i)) | i : int(1..5), (i < 4) ]), 
   ~~> constant_evaluator ([("Constant", 9001)]) 
(n#matrix_to_atom[1] = 5),
(n#matrix_to_atom[2] = 4),
(n#matrix_to_atom[3] = 3),
(n#matrix_to_atom[4] = 2),
(n#matrix_to_atom[5] = 1),
and([ ((n#matrix_to_atom[i] < 5)) -> ((m[i] = i)) | i : int(1..5), (i < 4) ]) 

--

n#matrix_to_atom[2], 
   ~~> index_to_bubble ([("Bubble", 6000)]) 
{n#matrix_to_atom[2] @ and([__inDomain(2,int(1..5));int(1..)])} 

--

(n#matrix_to_atom[1] = 5),
({n#matrix_to_atom[2] @ and([__inDomain(2,int(1..5));int(1..)])} = 4),
(n#matrix_to_atom[3] = 3),
(n#matrix_to_atom[4] = 2),
(n#matrix_to_atom[5] = 1),
and([ ((n#matrix_to_atom[i] < 5)) -> ((m[i] = i)) | i : int(1..5), (i < 4) ]), 
   ~~> constant_evaluator ([("Constant", 9001)]) 
(n#matrix_to_atom[1] = 5),
(n#matrix_to_atom[2] = 4),
(n#matrix_to_atom[3] = 3),
(n#matrix_to_atom[4] = 2),
(n#matrix_to_atom[5] = 1),
and([ ((n#matrix_to_atom[i] < 5)) -> ((m[i] = i)) | i : int(1..5), (i < 4) ]) 

--

n#matrix_to_atom[3], 
   ~~> index_to_bubble ([("Bubble", 6000)]) 
{n#matrix_to_atom[3] @ and([__inDomain(3,int(1..5));int(1..)])} 

--

(n#matrix_to_atom[1] = 5),
(n#matrix_to_atom[2] = 4),
({n#matrix_to_atom[3] @ and([__inDomain(3,int(1..5));int(1..)])} = 3),
(n#matrix_to_atom[4] = 2),
(n#matrix_to_atom[5] = 1),
and([ ((n#matrix_to_atom[i] < 5)) -> ((m[i] = i)) | i : int(1..5), (i < 4) ]), 
   ~~> constant_evaluator ([("Constant", 9001)]) 
(n#matrix_to_atom[1] = 5),
(n#matrix_to_atom[2] = 4),
(n#matrix_to_atom[3] = 3),
(n#matrix_to_atom[4] = 2),
(n#matrix_to_atom[5] = 1),
and([ ((n#matrix_to_atom[i] < 5)) -> ((m[i] = i)) | i : int(1..5), (i < 4) ]) 

--

n#matrix_to_atom[4], 
   ~~> index_to_bubble ([("Bubble", 6000)]) 
{n#matrix_to_atom[4] @ and([__inDomain(4,int(1..5));int(1..)])} 

--

(n#matrix_to_atom[1] = 5),
(n#matrix_to_atom[2] = 4),
(n#matrix_to_atom[3] = 3),
({n#matrix_to_atom[4] @ and([__inDomain(4,int(1..5));int(1..)])} = 2),
(n#matrix_to_atom[5] = 1),
and([ ((n#matrix_to_atom[i] < 5)) -> ((m[i] = i)) | i : int(1..5), (i < 4) ]), 
   ~~> constant_evaluator ([("Constant", 9001)]) 
(n#matrix_to_atom[1] = 5),
(n#matrix_to_atom[2] = 4),
(n#matrix_to_atom[3] = 3),
(n#matrix_to_atom[4] = 2),
(n#matrix_to_atom[5] = 1),
and([ ((n#matrix_to_atom[i] < 5)) -> ((m[i] = i)) | i : int(1..5), (i < 4) ]) 

--

n#matrix_to_atom[5], 
   ~~> index_to_bubble ([("Bubble", 6000)]) 
{n#matrix_to_atom[5] @ and([__inDomain(5,int(1..5));int(1..)])} 

--

(n#matrix_to_atom[1] = 5),
(n#matrix_to_atom[2] = 4),
(n#matrix_to_atom[3] = 3),
(n#matrix_to_atom[4] = 2),
({n#matrix_to_atom[5] @ and([__inDomain(5,int(1..5));int(1..)])} = 1),
and([ ((n#matrix_to_atom[i] < 5)) -> ((m[i] = i)) | i : int(1..5), (i < 4) ]), 
   ~~> constant_evaluator ([("Constant", 9001)]) 
(n#matrix_to_atom[1] = 5),
(n#matrix_to_atom[2] = 4),
(n#matrix_to_atom[3] = 3),
(n#matrix_to_atom[4] = 2),
(n#matrix_to_atom[5] = 1),
and([ ((n#matrix_to_atom[i] < 5)) -> ((m[i] = i)) | i : int(1..5), (i < 4) ]) 

--

(n#matrix_to_atom[1] = 5),
(n#matrix_to_atom[2] = 4),
(n#matrix_to_atom[3] = 3),
(n#matrix_to_atom[4] = 2),
(n#matrix_to_atom[5] = 1),
and([ ((n#matrix_to_atom[i] < 5)) -> ((m[i] = i)) | i : int(1..5), (i < 4) ]), 
   ~~> index_matrix_to_atom ([("Base", 5000)]) 
(n#matrix_to_atom_1 = 5),
(n#matrix_to_atom_2 = 4),
(n#matrix_to_atom_3 = 3),
(n#matrix_to_atom_4 = 2),
(n#matrix_to_atom_5 = 1),
and([ ((n#matrix_to_atom[i] < 5)) -> ((m[i] = i)) | i : int(1..5), (i < 4) ]) 

--

Model before rewriting:

find i: int(1..5)
find __0: matrix indexed by [[int(1..5)]] of int(1..5)
find __1: matrix indexed by [[int(1..5)]] of int(1..5)
find __2: bool
find __3: bool
find __4: int(1..5)
find __5: int(1..5)
find __6: matrix indexed by [[int(1..5)]] of int(1..5)
find __7: matrix indexed by [[int(1..5)]] of int(1..5)
find __0#matrix_to_atom_1: int(1..5)
find __0#matrix_to_atom_2: int(1..5)
find __0#matrix_to_atom_3: int(1..5)
find __0#matrix_to_atom_4: int(1..5)
find __0#matrix_to_atom_5: int(1..5)
find __1#matrix_to_atom_1: int(1..5)
find __1#matrix_to_atom_2: int(1..5)
find __1#matrix_to_atom_3: int(1..5)
find __1#matrix_to_atom_4: int(1..5)
find __1#matrix_to_atom_5: int(1..5)

such that

(i < 4),
(true != ((__6[i] < 5)) -> ((__7[i] = i)))

--

(i < 4), 
   ~~> lt_to_leq ([("Minion", 8400)]) 
(i <= sum([4,-1;int(1..)])) 

--

(i <= sum([4,-1;int(1..)])),
(true != ((__6[i] < 5)) -> ((__7[i] = i))), 
   ~~> constant_evaluator ([("Constant", 9001)]) 
(i <= 3),
(true != ((__6[i] < 5)) -> ((__7[i] = i))) 

--

(__6[i] < 5), 
   ~~> lt_to_leq ([("Minion", 8400)]) 
(__6[i] <= sum([5,-1;int(1..)])) 

--

(i <= 3),
(true != ((__6[i] <= sum([5,-1;int(1..)]))) -> ((__7[i] = i))), 
   ~~> constant_evaluator ([("Constant", 9001)]) 
(i <= 3),
(true != ((__6[i] <= 4)) -> ((__7[i] = i))) 

--

(i <= 3),
(true != ((__6#matrix_to_atom[i] <= 4)) -> ((__7#matrix_to_atom[i] = i))), 
   ~~> select_representation_matrix ([("Representations", 8001)]) 
(i <= 3),
(true != ((__6#matrix_to_atom[i] <= 4)) -> ((__7#matrix_to_atom[i] = i))) 
new variables:
  find __6#matrix_to_atom_1: int(1..5)
  find __6#matrix_to_atom_2: int(1..5)
  find __6#matrix_to_atom_3: int(1..5)
  find __6#matrix_to_atom_4: int(1..5)
  find __6#matrix_to_atom_5: int(1..5)
  find __7#matrix_to_atom_1: int(1..5)
  find __7#matrix_to_atom_2: int(1..5)
  find __7#matrix_to_atom_3: int(1..5)
  find __7#matrix_to_atom_4: int(1..5)
  find __7#matrix_to_atom_5: int(1..5)
--

__6#matrix_to_atom[i], 
   ~~> index_to_bubble ([("Bubble", 6000)]) 
{__6#matrix_to_atom[i] @ and([__inDomain(i,int(1..5));int(1..)])} 

--

(i <= 3),
(true != (({__6#matrix_to_atom[i] @ and([__inDomain(i,int(1..5));int(1..)])} <= 4)) -> ((__7#matrix_to_atom[i] = i))), 
   ~~> constant_evaluator ([("Constant", 9001)]) 
(i <= 3),
(true != ((__6#matrix_to_atom[i] <= 4)) -> ((__7#matrix_to_atom[i] = i))) 

--

__7#matrix_to_atom[i], 
   ~~> index_to_bubble ([("Bubble", 6000)]) 
{__7#matrix_to_atom[i] @ and([__inDomain(i,int(1..5));int(1..)])} 

--

(i <= 3),
(true != ((__6#matrix_to_atom[i] <= 4)) -> (({__7#matrix_to_atom[i] @ and([__inDomain(i,int(1..5));int(1..)])} = i))), 
   ~~> constant_evaluator ([("Constant", 9001)]) 
(i <= 3),
(true != ((__6#matrix_to_atom[i] <= 4)) -> ((__7#matrix_to_atom[i] = i))) 

--

(i <= 3),
(true != ((__6#matrix_to_atom[i] <= 4)) -> ((__7#matrix_to_atom[i] = i))), 
   ~~> index_matrix_to_atom ([("Base", 5000)]) 
(i <= 3),
(true != (([__6#matrix_to_atom_1,__6#matrix_to_atom_2,__6#matrix_to_atom_3,__6#matrix_to_atom_4,__6#matrix_to_atom_5;int(1..)][(i - 0)] <= 4)) -> (([__7#matrix_to_atom_1,__7#matrix_to_atom_2,__7#matrix_to_atom_3,__7#matrix_to_atom_4,__7#matrix_to_atom_5;int(1..)][(i - 0)] = i))) 

--

(i - 0), 
   ~~> minus_to_sum ([("Base", 8400)]) 
sum([i,-(0);int(1..)]) 

--

(i <= 3),
(true != (([__6#matrix_to_atom_1,__6#matrix_to_atom_2,__6#matrix_to_atom_3,__6#matrix_to_atom_4,__6#matrix_to_atom_5;int(1..)][sum([i,-(0);int(1..)])] <= 4)) -> (([__7#matrix_to_atom_1,__7#matrix_to_atom_2,__7#matrix_to_atom_3,__7#matrix_to_atom_4,__7#matrix_to_atom_5;int(1..)][(i - 0)] = i))), 
   ~~> constant_evaluator ([("Constant", 9001)]) 
(i <= 3),
(true != (([__6#matrix_to_atom_1,__6#matrix_to_atom_2,__6#matrix_to_atom_3,__6#matrix_to_atom_4,__6#matrix_to_atom_5;int(1..)][sum([i,0;int(1..)])] <= 4)) -> (([__7#matrix_to_atom_1,__7#matrix_to_atom_2,__7#matrix_to_atom_3,__7#matrix_to_atom_4,__7#matrix_to_atom_5;int(1..)][(i - 0)] = i))) 

--

(i - 0), 
   ~~> minus_to_sum ([("Base", 8400)]) 
sum([i,-(0);int(1..)]) 

--

(i <= 3),
(true != (([__6#matrix_to_atom_1,__6#matrix_to_atom_2,__6#matrix_to_atom_3,__6#matrix_to_atom_4,__6#matrix_to_atom_5;int(1..)][sum([i,0;int(1..)])] <= 4)) -> (([__7#matrix_to_atom_1,__7#matrix_to_atom_2,__7#matrix_to_atom_3,__7#matrix_to_atom_4,__7#matrix_to_atom_5;int(1..)][sum([i,-(0);int(1..)])] = i))), 
   ~~> constant_evaluator ([("Constant", 9001)]) 
(i <= 3),
(true != (([__6#matrix_to_atom_1,__6#matrix_to_atom_2,__6#matrix_to_atom_3,__6#matrix_to_atom_4,__6#matrix_to_atom_5;int(1..)][sum([i,0;int(1..)])] <= 4)) -> (([__7#matrix_to_atom_1,__7#matrix_to_atom_2,__7#matrix_to_atom_3,__7#matrix_to_atom_4,__7#matrix_to_atom_5;int(1..)][sum([i,0;int(1..)])] = i))) 

--

(true != (([__6#matrix_to_atom_1,__6#matrix_to_atom_2,__6#matrix_to_atom_3,__6#matrix_to_atom_4,__6#matrix_to_atom_5;int(1..)][sum([i,0;int(1..)])] <= 4)) -> (([__7#matrix_to_atom_1,__7#matrix_to_atom_2,__7#matrix_to_atom_3,__7#matrix_to_atom_4,__7#matrix_to_atom_5;int(1..)][sum([i,0;int(1..)])] = i))), 
   ~~> flatten_generic ([("Minion", 4200)]) 
(true != __8) 
new variables:
  find __8: bool
new constraints:
  __8 =aux (([__6#matrix_to_atom_1,__6#matrix_to_atom_2,__6#matrix_to_atom_3,__6#matrix_to_atom_4,__6#matrix_to_atom_5;int(1..)][sum([i,0;int(1..)])] <= 4)) -> (([__7#matrix_to_atom_1,__7#matrix_to_atom_2,__7#matrix_to_atom_3,__7#matrix_to_atom_4,__7#matrix_to_atom_5;int(1..)][sum([i,0;int(1..)])] = i))
--

__8 =aux (([__6#matrix_to_atom_1,__6#matrix_to_atom_2,__6#matrix_to_atom_3,__6#matrix_to_atom_4,__6#matrix_to_atom_5;int(1..)][sum([i,0;int(1..)])] <= 4)) -> (([__7#matrix_to_atom_1,__7#matrix_to_atom_2,__7#matrix_to_atom_3,__7#matrix_to_atom_4,__7#matrix_to_atom_5;int(1..)][sum([i,0;int(1..)])] = i)), 
   ~~> bool_eq_to_reify ([("Minion", 4400)]) 
Reify((([__6#matrix_to_atom_1,__6#matrix_to_atom_2,__6#matrix_to_atom_3,__6#matrix_to_atom_4,__6#matrix_to_atom_5;int(1..)][sum([i,0;int(1..)])] <= 4)) -> (([__7#matrix_to_atom_1,__7#matrix_to_atom_2,__7#matrix_to_atom_3,__7#matrix_to_atom_4,__7#matrix_to_atom_5;int(1..)][sum([i,0;int(1..)])] = i)), __8) 

--

(([__6#matrix_to_atom_1,__6#matrix_to_atom_2,__6#matrix_to_atom_3,__6#matrix_to_atom_4,__6#matrix_to_atom_5;int(1..)][sum([i,0;int(1..)])] <= 4)) -> (([__7#matrix_to_atom_1,__7#matrix_to_atom_2,__7#matrix_to_atom_3,__7#matrix_to_atom_4,__7#matrix_to_atom_5;int(1..)][sum([i,0;int(1..)])] = i)), 
   ~~> flatten_imply ([("Minion", 4200)]) 
(__9) -> (([__7#matrix_to_atom_1,__7#matrix_to_atom_2,__7#matrix_to_atom_3,__7#matrix_to_atom_4,__7#matrix_to_atom_5;int(1..)][sum([i,0;int(1..)])] = i)) 
new variables:
  find __9: bool
new constraints:
  __9 =aux ([__6#matrix_to_atom_1,__6#matrix_to_atom_2,__6#matrix_to_atom_3,__6#matrix_to_atom_4,__6#matrix_to_atom_5;int(1..)][sum([i,0;int(1..)])] <= 4)
--

(__9) -> (([__7#matrix_to_atom_1,__7#matrix_to_atom_2,__7#matrix_to_atom_3,__7#matrix_to_atom_4,__7#matrix_to_atom_5;int(1..)][sum([i,0;int(1..)])] = i)), 
   ~~> introduce_reifyimply_ineq_from_imply ([("Minion", 4400)]) 
ReifyImply(([__7#matrix_to_atom_1,__7#matrix_to_atom_2,__7#matrix_to_atom_3,__7#matrix_to_atom_4,__7#matrix_to_atom_5;int(1..)][sum([i,0;int(1..)])] = i), __9) 

--

__9 =aux ([__6#matrix_to_atom_1,__6#matrix_to_atom_2,__6#matrix_to_atom_3,__6#matrix_to_atom_4,__6#matrix_to_atom_5;int(1..)][sum([i,0;int(1..)])] <= 4), 
   ~~> bool_eq_to_reify ([("Minion", 4400)]) 
Reify(([__6#matrix_to_atom_1,__6#matrix_to_atom_2,__6#matrix_to_atom_3,__6#matrix_to_atom_4,__6#matrix_to_atom_5;int(1..)][sum([i,0;int(1..)])] <= 4), __9) 

--

[__7#matrix_to_atom_1,__7#matrix_to_atom_2,__7#matrix_to_atom_3,__7#matrix_to_atom_4,__7#matrix_to_atom_5;int(1..)][sum([i,0;int(1..)])], 
   ~~> flatten_generic ([("Minion", 4200)]) 
[__7#matrix_to_atom_1,__7#matrix_to_atom_2,__7#matrix_to_atom_3,__7#matrix_to_atom_4,__7#matrix_to_atom_5;int(1..)][__10] 
new variables:
  find __10: int(1..5)
new constraints:
  __10 =aux sum([i,0;int(1..)])
--

__10 =aux sum([i,0;int(1..)]), 
   ~~> introduce_weighted_sumleq_sumgeq ([("Minion", 4600)]) 
and([SumLeq([0, i], __10),SumGeq([0, i], __10);int(1..)]) 

--

(i <= 3),
(true != __8),
Reify(ReifyImply(([__7#matrix_to_atom_1,__7#matrix_to_atom_2,__7#matrix_to_atom_3,__7#matrix_to_atom_4,__7#matrix_to_atom_5;int(1..)][__10] = i), __9), __8),
Reify(([__6#matrix_to_atom_1,__6#matrix_to_atom_2,__6#matrix_to_atom_3,__6#matrix_to_atom_4,__6#matrix_to_atom_5;int(1..)][sum([i,0;int(1..)])] <= 4), __9),
and([SumLeq([0, i], __10),SumGeq([0, i], __10);int(1..)]), 
   ~~> constant_evaluator ([("Constant", 9001)]) 
(i <= 3),
(true != __8),
Reify(ReifyImply(([__7#matrix_to_atom_1,__7#matrix_to_atom_2,__7#matrix_to_atom_3,__7#matrix_to_atom_4,__7#matrix_to_atom_5;int(1..)][__10] = i), __9), __8),
Reify(([__6#matrix_to_atom_1,__6#matrix_to_atom_2,__6#matrix_to_atom_3,__6#matrix_to_atom_4,__6#matrix_to_atom_5;int(1..)][sum([i,0;int(1..)])] <= 4), __9),
SumLeq([0, i], __10),
SumGeq([0, i], __10) 

--

([__7#matrix_to_atom_1,__7#matrix_to_atom_2,__7#matrix_to_atom_3,__7#matrix_to_atom_4,__7#matrix_to_atom_5;int(1..)][__10] = i), 
   ~~> introduce_element_from_index ([("Minion", 4400)]) 
__minion_element_one([__7#matrix_to_atom_1,__7#matrix_to_atom_2,__7#matrix_to_atom_3,__7#matrix_to_atom_4,__7#matrix_to_atom_5],__10,i) 

--

[__6#matrix_to_atom_1,__6#matrix_to_atom_2,__6#matrix_to_atom_3,__6#matrix_to_atom_4,__6#matrix_to_atom_5;int(1..)][sum([i,0;int(1..)])], 
   ~~> flatten_generic ([("Minion", 4200)]) 
[__6#matrix_to_atom_1,__6#matrix_to_atom_2,__6#matrix_to_atom_3,__6#matrix_to_atom_4,__6#matrix_to_atom_5;int(1..)][__11] 
new variables:
  find __11: int(1..5)
new constraints:
  __11 =aux sum([i,0;int(1..)])
--

__11 =aux sum([i,0;int(1..)]), 
   ~~> introduce_weighted_sumleq_sumgeq ([("Minion", 4600)]) 
and([SumLeq([0, i], __11),SumGeq([0, i], __11);int(1..)]) 

--

(i <= 3),
(true != __8),
Reify(ReifyImply(__minion_element_one([__7#matrix_to_atom_1,__7#matrix_to_atom_2,__7#matrix_to_atom_3,__7#matrix_to_atom_4,__7#matrix_to_atom_5],__10,i), __9), __8),
Reify(([__6#matrix_to_atom_1,__6#matrix_to_atom_2,__6#matrix_to_atom_3,__6#matrix_to_atom_4,__6#matrix_to_atom_5;int(1..)][__11] <= 4), __9),
SumLeq([0, i], __10),
SumGeq([0, i], __10),
and([SumLeq([0, i], __11),SumGeq([0, i], __11);int(1..)]), 
   ~~> constant_evaluator ([("Constant", 9001)]) 
(i <= 3),
(true != __8),
Reify(ReifyImply(__minion_element_one([__7#matrix_to_atom_1,__7#matrix_to_atom_2,__7#matrix_to_atom_3,__7#matrix_to_atom_4,__7#matrix_to_atom_5],__10,i), __9), __8),
Reify(([__6#matrix_to_atom_1,__6#matrix_to_atom_2,__6#matrix_to_atom_3,__6#matrix_to_atom_4,__6#matrix_to_atom_5;int(1..)][__11] <= 4), __9),
SumLeq([0, i], __10),
SumGeq([0, i], __10),
SumLeq([0, i], __11),
SumGeq([0, i], __11) 

--

(i <= 3), 
   ~~> leq_to_ineq ([("Minion", 4100)]) 
Ineq(i, 3, 0) 

--

Final model:

find i: int(1..5)
find __0: matrix indexed by [[int(1..5)]] of int(1..5)
find __1: matrix indexed by [[int(1..5)]] of int(1..5)
find __2: bool
find __3: bool
find __4: int(1..5)
find __5: int(1..5)
find __6: matrix indexed by [[int(1..5)]] of int(1..5)
find __7: matrix indexed by [[int(1..5)]] of int(1..5)
find __8: bool
find __9: bool
find __10: int(1..5)
find __11: int(1..5)
find __0#matrix_to_atom_1: int(1..5)
find __0#matrix_to_atom_2: int(1..5)
find __0#matrix_to_atom_3: int(1..5)
find __0#matrix_to_atom_4: int(1..5)
find __0#matrix_to_atom_5: int(1..5)
find __1#matrix_to_atom_1: int(1..5)
find __1#matrix_to_atom_2: int(1..5)
find __1#matrix_to_atom_3: int(1..5)
find __1#matrix_to_atom_4: int(1..5)
find __1#matrix_to_atom_5: int(1..5)
find __6#matrix_to_atom_1: int(1..5)
find __6#matrix_to_atom_2: int(1..5)
find __6#matrix_to_atom_3: int(1..5)
find __6#matrix_to_atom_4: int(1..5)
find __6#matrix_to_atom_5: int(1..5)
find __7#matrix_to_atom_1: int(1..5)
find __7#matrix_to_atom_2: int(1..5)
find __7#matrix_to_atom_3: int(1..5)
find __7#matrix_to_atom_4: int(1..5)
find __7#matrix_to_atom_5: int(1..5)

such that

Ineq(i, 3, 0),
(true != __8),
Reify(ReifyImply(__minion_element_one([__7#matrix_to_atom_1,__7#matrix_to_atom_2,__7#matrix_to_atom_3,__7#matrix_to_atom_4,__7#matrix_to_atom_5],__10,i), __9), __8),
Reify(([__6#matrix_to_atom_1,__6#matrix_to_atom_2,__6#matrix_to_atom_3,__6#matrix_to_atom_4,__6#matrix_to_atom_5;int(1..)][__11] <= 4), __9),
SumLeq([0, i], __10),
SumGeq([0, i], __10),
SumLeq([0, i], __11),
SumGeq([0, i], __11)

Model before rewriting:

quantified i: int(1..5)
find __0: matrix indexed by [[int(1..5)]] of int(1..5)
find __1: matrix indexed by [[int(1..5)]] of int(1..5)
find __2: bool
find __3: bool
find __4: int(1..5)
find __5: int(1..5)
find __6: matrix indexed by [[int(1..5)]] of int(1..5)
find __7: matrix indexed by [[int(1..5)]] of int(1..5)
find __8: bool
find __9: bool
find __10: int(1..5)
find __11: int(1..5)
find __0#matrix_to_atom_1: int(1..5)
find __0#matrix_to_atom_2: int(1..5)
find __0#matrix_to_atom_3: int(1..5)
find __0#matrix_to_atom_4: int(1..5)
find __0#matrix_to_atom_5: int(1..5)
find __1#matrix_to_atom_1: int(1..5)
find __1#matrix_to_atom_2: int(1..5)
find __1#matrix_to_atom_3: int(1..5)
find __1#matrix_to_atom_4: int(1..5)
find __1#matrix_to_atom_5: int(1..5)
find __6#matrix_to_atom_1: int(1..5)
find __6#matrix_to_atom_2: int(1..5)
find __6#matrix_to_atom_3: int(1..5)
find __6#matrix_to_atom_4: int(1..5)
find __6#matrix_to_atom_5: int(1..5)
find __7#matrix_to_atom_1: int(1..5)
find __7#matrix_to_atom_2: int(1..5)
find __7#matrix_to_atom_3: int(1..5)
find __7#matrix_to_atom_4: int(1..5)
find __7#matrix_to_atom_5: int(1..5)

such that

(i < 4)

--

(i < 4), 
   ~~> lt_to_leq ([("Minion", 8400)]) 
(i <= sum([4,-1;int(1..)])) 

--

(i <= sum([4,-1;int(1..)])), 
   ~~> constant_evaluator ([("Constant", 9001)]) 
(i <= 3) 

--

(i <= 3), 
   ~~> leq_to_ineq ([("Minion", 4100)]) 
Ineq(i, 3, 0) 

--

Final model:

quantified i: int(1..5)
find __0: matrix indexed by [[int(1..5)]] of int(1..5)
find __1: matrix indexed by [[int(1..5)]] of int(1..5)
find __2: bool
find __3: bool
find __4: int(1..5)
find __5: int(1..5)
find __6: matrix indexed by [[int(1..5)]] of int(1..5)
find __7: matrix indexed by [[int(1..5)]] of int(1..5)
find __8: bool
find __9: bool
find __10: int(1..5)
find __11: int(1..5)
find __0#matrix_to_atom_1: int(1..5)
find __0#matrix_to_atom_2: int(1..5)
find __0#matrix_to_atom_3: int(1..5)
find __0#matrix_to_atom_4: int(1..5)
find __0#matrix_to_atom_5: int(1..5)
find __1#matrix_to_atom_1: int(1..5)
find __1#matrix_to_atom_2: int(1..5)
find __1#matrix_to_atom_3: int(1..5)
find __1#matrix_to_atom_4: int(1..5)
find __1#matrix_to_atom_5: int(1..5)
find __6#matrix_to_atom_1: int(1..5)
find __6#matrix_to_atom_2: int(1..5)
find __6#matrix_to_atom_3: int(1..5)
find __6#matrix_to_atom_4: int(1..5)
find __6#matrix_to_atom_5: int(1..5)
find __7#matrix_to_atom_1: int(1..5)
find __7#matrix_to_atom_2: int(1..5)
find __7#matrix_to_atom_3: int(1..5)
find __7#matrix_to_atom_4: int(1..5)
find __7#matrix_to_atom_5: int(1..5)

such that

Ineq(i, 3, 0)

[ ((n#matrix_to_atom[i] < 5)) -> ((m[i] = i)) | i : int(1..5), (i < 4) ], 
   ~~> expand_comprehension_via_solver ([("Base", 2000)]) 
[((n#matrix_to_atom[1] < 5)) -> ((m[1] = 1)),((n#matrix_to_atom[2] < 5)) -> ((m[2] = 2)),((n#matrix_to_atom[3] < 5)) -> ((m[3] = 3));int(1..)] 

--

(n#matrix_to_atom_1 = 5),
(n#matrix_to_atom_2 = 4),
(n#matrix_to_atom_3 = 3),
(n#matrix_to_atom_4 = 2),
(n#matrix_to_atom_5 = 1),
and([((n#matrix_to_atom[1] < 5)) -> ((m[1] = 1)),((n#matrix_to_atom[2] < 5)) -> ((m[2] = 2)),((n#matrix_to_atom[3] < 5)) -> ((m[3] = 3));int(1..)]), 
   ~~> constant_evaluator ([("Constant", 9001)]) 
(n#matrix_to_atom_1 = 5),
(n#matrix_to_atom_2 = 4),
(n#matrix_to_atom_3 = 3),
(n#matrix_to_atom_4 = 2),
(n#matrix_to_atom_5 = 1),
((n#matrix_to_atom[1] < 5)) -> ((m[1] = 1)),
((n#matrix_to_atom[2] < 5)) -> ((m[2] = 2)),
((n#matrix_to_atom[3] < 5)) -> ((m[3] = 3)) 

--

(n#matrix_to_atom[1] < 5), 
   ~~> lt_to_leq ([("Minion", 8400)]) 
(n#matrix_to_atom[1] <= sum([5,-1;int(1..)])) 

--

(n#matrix_to_atom_1 = 5),
(n#matrix_to_atom_2 = 4),
(n#matrix_to_atom_3 = 3),
(n#matrix_to_atom_4 = 2),
(n#matrix_to_atom_5 = 1),
((n#matrix_to_atom[1] <= sum([5,-1;int(1..)]))) -> ((m[1] = 1)),
((n#matrix_to_atom[2] < 5)) -> ((m[2] = 2)),
((n#matrix_to_atom[3] < 5)) -> ((m[3] = 3)), 
   ~~> constant_evaluator ([("Constant", 9001)]) 
(n#matrix_to_atom_1 = 5),
(n#matrix_to_atom_2 = 4),
(n#matrix_to_atom_3 = 3),
(n#matrix_to_atom_4 = 2),
(n#matrix_to_atom_5 = 1),
((n#matrix_to_atom[1] <= 4)) -> ((m[1] = 1)),
((n#matrix_to_atom[2] < 5)) -> ((m[2] = 2)),
((n#matrix_to_atom[3] < 5)) -> ((m[3] = 3)) 

--

(n#matrix_to_atom[2] < 5), 
   ~~> lt_to_leq ([("Minion", 8400)]) 
(n#matrix_to_atom[2] <= sum([5,-1;int(1..)])) 

--

(n#matrix_to_atom_1 = 5),
(n#matrix_to_atom_2 = 4),
(n#matrix_to_atom_3 = 3),
(n#matrix_to_atom_4 = 2),
(n#matrix_to_atom_5 = 1),
((n#matrix_to_atom[1] <= 4)) -> ((m[1] = 1)),
((n#matrix_to_atom[2] <= sum([5,-1;int(1..)]))) -> ((m[2] = 2)),
((n#matrix_to_atom[3] < 5)) -> ((m[3] = 3)), 
   ~~> constant_evaluator ([("Constant", 9001)]) 
(n#matrix_to_atom_1 = 5),
(n#matrix_to_atom_2 = 4),
(n#matrix_to_atom_3 = 3),
(n#matrix_to_atom_4 = 2),
(n#matrix_to_atom_5 = 1),
((n#matrix_to_atom[1] <= 4)) -> ((m[1] = 1)),
((n#matrix_to_atom[2] <= 4)) -> ((m[2] = 2)),
((n#matrix_to_atom[3] < 5)) -> ((m[3] = 3)) 

--

(n#matrix_to_atom[3] < 5), 
   ~~> lt_to_leq ([("Minion", 8400)]) 
(n#matrix_to_atom[3] <= sum([5,-1;int(1..)])) 

--

(n#matrix_to_atom_1 = 5),
(n#matrix_to_atom_2 = 4),
(n#matrix_to_atom_3 = 3),
(n#matrix_to_atom_4 = 2),
(n#matrix_to_atom_5 = 1),
((n#matrix_to_atom[1] <= 4)) -> ((m[1] = 1)),
((n#matrix_to_atom[2] <= 4)) -> ((m[2] = 2)),
((n#matrix_to_atom[3] <= sum([5,-1;int(1..)]))) -> ((m[3] = 3)), 
   ~~> constant_evaluator ([("Constant", 9001)]) 
(n#matrix_to_atom_1 = 5),
(n#matrix_to_atom_2 = 4),
(n#matrix_to_atom_3 = 3),
(n#matrix_to_atom_4 = 2),
(n#matrix_to_atom_5 = 1),
((n#matrix_to_atom[1] <= 4)) -> ((m[1] = 1)),
((n#matrix_to_atom[2] <= 4)) -> ((m[2] = 2)),
((n#matrix_to_atom[3] <= 4)) -> ((m[3] = 3)) 

--

(n#matrix_to_atom_1 = 5),
(n#matrix_to_atom_2 = 4),
(n#matrix_to_atom_3 = 3),
(n#matrix_to_atom_4 = 2),
(n#matrix_to_atom_5 = 1),
((n#matrix_to_atom[1] <= 4)) -> ((m#matrix_to_atom[1] = 1)),
((n#matrix_to_atom[2] <= 4)) -> ((m#matrix_to_atom[2] = 2)),
((n#matrix_to_atom[3] <= 4)) -> ((m#matrix_to_atom[3] = 3)), 
   ~~> select_representation_matrix ([("Representations", 8001)]) 
(n#matrix_to_atom_1 = 5),
(n#matrix_to_atom_2 = 4),
(n#matrix_to_atom_3 = 3),
(n#matrix_to_atom_4 = 2),
(n#matrix_to_atom_5 = 1),
((n#matrix_to_atom[1] <= 4)) -> ((m#matrix_to_atom[1] = 1)),
((n#matrix_to_atom[2] <= 4)) -> ((m#matrix_to_atom[2] = 2)),
((n#matrix_to_atom[3] <= 4)) -> ((m#matrix_to_atom[3] = 3)) 

--

n#matrix_to_atom[1], 
   ~~> index_to_bubble ([("Bubble", 6000)]) 
{n#matrix_to_atom[1] @ and([__inDomain(1,int(1..5));int(1..)])} 

--

(n#matrix_to_atom_1 = 5),
(n#matrix_to_atom_2 = 4),
(n#matrix_to_atom_3 = 3),
(n#matrix_to_atom_4 = 2),
(n#matrix_to_atom_5 = 1),
(({n#matrix_to_atom[1] @ and([__inDomain(1,int(1..5));int(1..)])} <= 4)) -> ((m#matrix_to_atom[1] = 1)),
((n#matrix_to_atom[2] <= 4)) -> ((m#matrix_to_atom[2] = 2)),
((n#matrix_to_atom[3] <= 4)) -> ((m#matrix_to_atom[3] = 3)), 
   ~~> constant_evaluator ([("Constant", 9001)]) 
(n#matrix_to_atom_1 = 5),
(n#matrix_to_atom_2 = 4),
(n#matrix_to_atom_3 = 3),
(n#matrix_to_atom_4 = 2),
(n#matrix_to_atom_5 = 1),
((n#matrix_to_atom[1] <= 4)) -> ((m#matrix_to_atom[1] = 1)),
((n#matrix_to_atom[2] <= 4)) -> ((m#matrix_to_atom[2] = 2)),
((n#matrix_to_atom[3] <= 4)) -> ((m#matrix_to_atom[3] = 3)) 

--

m#matrix_to_atom[1], 
   ~~> index_to_bubble ([("Bubble", 6000)]) 
{m#matrix_to_atom[1] @ and([__inDomain(1,int(1..5));int(1..)])} 

--

(n#matrix_to_atom_1 = 5),
(n#matrix_to_atom_2 = 4),
(n#matrix_to_atom_3 = 3),
(n#matrix_to_atom_4 = 2),
(n#matrix_to_atom_5 = 1),
((n#matrix_to_atom[1] <= 4)) -> (({m#matrix_to_atom[1] @ and([__inDomain(1,int(1..5));int(1..)])} = 1)),
((n#matrix_to_atom[2] <= 4)) -> ((m#matrix_to_atom[2] = 2)),
((n#matrix_to_atom[3] <= 4)) -> ((m#matrix_to_atom[3] = 3)), 
   ~~> constant_evaluator ([("Constant", 9001)]) 
(n#matrix_to_atom_1 = 5),
(n#matrix_to_atom_2 = 4),
(n#matrix_to_atom_3 = 3),
(n#matrix_to_atom_4 = 2),
(n#matrix_to_atom_5 = 1),
((n#matrix_to_atom[1] <= 4)) -> ((m#matrix_to_atom[1] = 1)),
((n#matrix_to_atom[2] <= 4)) -> ((m#matrix_to_atom[2] = 2)),
((n#matrix_to_atom[3] <= 4)) -> ((m#matrix_to_atom[3] = 3)) 

--

n#matrix_to_atom[2], 
   ~~> index_to_bubble ([("Bubble", 6000)]) 
{n#matrix_to_atom[2] @ and([__inDomain(2,int(1..5));int(1..)])} 

--

(n#matrix_to_atom_1 = 5),
(n#matrix_to_atom_2 = 4),
(n#matrix_to_atom_3 = 3),
(n#matrix_to_atom_4 = 2),
(n#matrix_to_atom_5 = 1),
((n#matrix_to_atom[1] <= 4)) -> ((m#matrix_to_atom[1] = 1)),
(({n#matrix_to_atom[2] @ and([__inDomain(2,int(1..5));int(1..)])} <= 4)) -> ((m#matrix_to_atom[2] = 2)),
((n#matrix_to_atom[3] <= 4)) -> ((m#matrix_to_atom[3] = 3)), 
   ~~> constant_evaluator ([("Constant", 9001)]) 
(n#matrix_to_atom_1 = 5),
(n#matrix_to_atom_2 = 4),
(n#matrix_to_atom_3 = 3),
(n#matrix_to_atom_4 = 2),
(n#matrix_to_atom_5 = 1),
((n#matrix_to_atom[1] <= 4)) -> ((m#matrix_to_atom[1] = 1)),
((n#matrix_to_atom[2] <= 4)) -> ((m#matrix_to_atom[2] = 2)),
((n#matrix_to_atom[3] <= 4)) -> ((m#matrix_to_atom[3] = 3)) 

--

m#matrix_to_atom[2], 
   ~~> index_to_bubble ([("Bubble", 6000)]) 
{m#matrix_to_atom[2] @ and([__inDomain(2,int(1..5));int(1..)])} 

--

(n#matrix_to_atom_1 = 5),
(n#matrix_to_atom_2 = 4),
(n#matrix_to_atom_3 = 3),
(n#matrix_to_atom_4 = 2),
(n#matrix_to_atom_5 = 1),
((n#matrix_to_atom[1] <= 4)) -> ((m#matrix_to_atom[1] = 1)),
((n#matrix_to_atom[2] <= 4)) -> (({m#matrix_to_atom[2] @ and([__inDomain(2,int(1..5));int(1..)])} = 2)),
((n#matrix_to_atom[3] <= 4)) -> ((m#matrix_to_atom[3] = 3)), 
   ~~> constant_evaluator ([("Constant", 9001)]) 
(n#matrix_to_atom_1 = 5),
(n#matrix_to_atom_2 = 4),
(n#matrix_to_atom_3 = 3),
(n#matrix_to_atom_4 = 2),
(n#matrix_to_atom_5 = 1),
((n#matrix_to_atom[1] <= 4)) -> ((m#matrix_to_atom[1] = 1)),
((n#matrix_to_atom[2] <= 4)) -> ((m#matrix_to_atom[2] = 2)),
((n#matrix_to_atom[3] <= 4)) -> ((m#matrix_to_atom[3] = 3)) 

--

n#matrix_to_atom[3], 
   ~~> index_to_bubble ([("Bubble", 6000)]) 
{n#matrix_to_atom[3] @ and([__inDomain(3,int(1..5));int(1..)])} 

--

(n#matrix_to_atom_1 = 5),
(n#matrix_to_atom_2 = 4),
(n#matrix_to_atom_3 = 3),
(n#matrix_to_atom_4 = 2),
(n#matrix_to_atom_5 = 1),
((n#matrix_to_atom[1] <= 4)) -> ((m#matrix_to_atom[1] = 1)),
((n#matrix_to_atom[2] <= 4)) -> ((m#matrix_to_atom[2] = 2)),
(({n#matrix_to_atom[3] @ and([__inDomain(3,int(1..5));int(1..)])} <= 4)) -> ((m#matrix_to_atom[3] = 3)), 
   ~~> constant_evaluator ([("Constant", 9001)]) 
(n#matrix_to_atom_1 = 5),
(n#matrix_to_atom_2 = 4),
(n#matrix_to_atom_3 = 3),
(n#matrix_to_atom_4 = 2),
(n#matrix_to_atom_5 = 1),
((n#matrix_to_atom[1] <= 4)) -> ((m#matrix_to_atom[1] = 1)),
((n#matrix_to_atom[2] <= 4)) -> ((m#matrix_to_atom[2] = 2)),
((n#matrix_to_atom[3] <= 4)) -> ((m#matrix_to_atom[3] = 3)) 

--

m#matrix_to_atom[3], 
   ~~> index_to_bubble ([("Bubble", 6000)]) 
{m#matrix_to_atom[3] @ and([__inDomain(3,int(1..5));int(1..)])} 

--

(n#matrix_to_atom_1 = 5),
(n#matrix_to_atom_2 = 4),
(n#matrix_to_atom_3 = 3),
(n#matrix_to_atom_4 = 2),
(n#matrix_to_atom_5 = 1),
((n#matrix_to_atom[1] <= 4)) -> ((m#matrix_to_atom[1] = 1)),
((n#matrix_to_atom[2] <= 4)) -> ((m#matrix_to_atom[2] = 2)),
((n#matrix_to_atom[3] <= 4)) -> (({m#matrix_to_atom[3] @ and([__inDomain(3,int(1..5));int(1..)])} = 3)), 
   ~~> constant_evaluator ([("Constant", 9001)]) 
(n#matrix_to_atom_1 = 5),
(n#matrix_to_atom_2 = 4),
(n#matrix_to_atom_3 = 3),
(n#matrix_to_atom_4 = 2),
(n#matrix_to_atom_5 = 1),
((n#matrix_to_atom[1] <= 4)) -> ((m#matrix_to_atom[1] = 1)),
((n#matrix_to_atom[2] <= 4)) -> ((m#matrix_to_atom[2] = 2)),
((n#matrix_to_atom[3] <= 4)) -> ((m#matrix_to_atom[3] = 3)) 

--

(n#matrix_to_atom_1 = 5),
(n#matrix_to_atom_2 = 4),
(n#matrix_to_atom_3 = 3),
(n#matrix_to_atom_4 = 2),
(n#matrix_to_atom_5 = 1),
((n#matrix_to_atom[1] <= 4)) -> ((m#matrix_to_atom[1] = 1)),
((n#matrix_to_atom[2] <= 4)) -> ((m#matrix_to_atom[2] = 2)),
((n#matrix_to_atom[3] <= 4)) -> ((m#matrix_to_atom[3] = 3)), 
   ~~> index_matrix_to_atom ([("Base", 5000)]) 
(n#matrix_to_atom_1 = 5),
(n#matrix_to_atom_2 = 4),
(n#matrix_to_atom_3 = 3),
(n#matrix_to_atom_4 = 2),
(n#matrix_to_atom_5 = 1),
((n#matrix_to_atom_1 <= 4)) -> ((m#matrix_to_atom_1 = 1)),
((n#matrix_to_atom_2 <= 4)) -> ((m#matrix_to_atom_2 = 2)),
((n#matrix_to_atom_3 <= 4)) -> ((m#matrix_to_atom_3 = 3)) 

--

((n#matrix_to_atom_1 <= 4)) -> ((m#matrix_to_atom_1 = 1)), 
   ~~> flatten_imply ([("Minion", 4200)]) 
(__0) -> ((m#matrix_to_atom_1 = 1)) 
new variables:
  find __0: bool
new constraints:
  __0 =aux (n#matrix_to_atom_1 <= 4)
--

(__0) -> ((m#matrix_to_atom_1 = 1)), 
   ~~> introduce_reifyimply_ineq_from_imply ([("Minion", 4400)]) 
ReifyImply((m#matrix_to_atom_1 = 1), __0) 

--

__0 =aux (n#matrix_to_atom_1 <= 4), 
   ~~> bool_eq_to_reify ([("Minion", 4400)]) 
Reify((n#matrix_to_atom_1 <= 4), __0) 

--

((n#matrix_to_atom_2 <= 4)) -> ((m#matrix_to_atom_2 = 2)), 
   ~~> flatten_imply ([("Minion", 4200)]) 
(__1) -> ((m#matrix_to_atom_2 = 2)) 
new variables:
  find __1: bool
new constraints:
  __1 =aux (n#matrix_to_atom_2 <= 4)
--

(__1) -> ((m#matrix_to_atom_2 = 2)), 
   ~~> introduce_reifyimply_ineq_from_imply ([("Minion", 4400)]) 
ReifyImply((m#matrix_to_atom_2 = 2), __1) 

--

__1 =aux (n#matrix_to_atom_2 <= 4), 
   ~~> bool_eq_to_reify ([("Minion", 4400)]) 
Reify((n#matrix_to_atom_2 <= 4), __1) 

--

((n#matrix_to_atom_3 <= 4)) -> ((m#matrix_to_atom_3 = 3)), 
   ~~> flatten_imply ([("Minion", 4200)]) 
(__2) -> ((m#matrix_to_atom_3 = 3)) 
new variables:
  find __2: bool
new constraints:
  __2 =aux (n#matrix_to_atom_3 <= 4)
--

(__2) -> ((m#matrix_to_atom_3 = 3)), 
   ~~> introduce_reifyimply_ineq_from_imply ([("Minion", 4400)]) 
ReifyImply((m#matrix_to_atom_3 = 3), __2) 

--

__2 =aux (n#matrix_to_atom_3 <= 4), 
   ~~> bool_eq_to_reify ([("Minion", 4400)]) 
Reify((n#matrix_to_atom_3 <= 4), __2) 

--

(n#matrix_to_atom_1 <= 4), 
   ~~> leq_to_ineq ([("Minion", 4100)]) 
Ineq(n#matrix_to_atom_1, 4, 0) 

--

(n#matrix_to_atom_2 <= 4), 
   ~~> leq_to_ineq ([("Minion", 4100)]) 
Ineq(n#matrix_to_atom_2, 4, 0) 

--

(n#matrix_to_atom_3 <= 4), 
   ~~> leq_to_ineq ([("Minion", 4100)]) 
Ineq(n#matrix_to_atom_3, 4, 0) 

--

Final model:

find m: matrix indexed by [[int(1..5)]] of int(1..5)
find n: matrix indexed by [[int(1..5)]] of int(1..5)
find __0: bool
find __1: bool
find __2: bool
find m#matrix_to_atom_1: int(1..5)
find m#matrix_to_atom_2: int(1..5)
find m#matrix_to_atom_3: int(1..5)
find m#matrix_to_atom_4: int(1..5)
find m#matrix_to_atom_5: int(1..5)
find n#matrix_to_atom_1: int(1..5)
find n#matrix_to_atom_2: int(1..5)
find n#matrix_to_atom_3: int(1..5)
find n#matrix_to_atom_4: int(1..5)
find n#matrix_to_atom_5: int(1..5)

such that

(n#matrix_to_atom_1 = 5),
(n#matrix_to_atom_2 = 4),
(n#matrix_to_atom_3 = 3),
(n#matrix_to_atom_4 = 2),
(n#matrix_to_atom_5 = 1),
ReifyImply((m#matrix_to_atom_1 = 1), __0),
ReifyImply((m#matrix_to_atom_2 = 2), __1),
ReifyImply((m#matrix_to_atom_3 = 3), __2),
Reify(Ineq(n#matrix_to_atom_1, 4, 0), __0),
Reify(Ineq(n#matrix_to_atom_2, 4, 0), __1),
Reify(Ineq(n#matrix_to_atom_3, 4, 0), __2)

