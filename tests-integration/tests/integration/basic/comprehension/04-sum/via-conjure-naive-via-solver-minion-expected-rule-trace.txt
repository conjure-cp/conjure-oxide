Model before rewriting:

find a: matrix indexed by [int(1..2)] of int(1..2)

such that

(sum([ a[i] | i : int(1..2) ]) = 3)

--

(sum([ a[i] | i : int(1..2) ]) = 3), 
   ~~> select_representation_matrix ([("Representations", 8001)])
(sum([ a[i] | i : int(1..2) ]) = 3)
new variables:
  find a#matrix_to_atom_1: int(1..2)
  find a#matrix_to_atom_2: int(1..2)

--

Via-solver generator model before rewriting:

find i: int(1..2)

--

Model before rewriting:

find i: int(1..2)

--

, 
   ~~> eval_root ([("Constant", 9001)])
true

--

Final model:

find i: int(1..2)

such that

true

[ a[i] | i : int(1..2) ], 
   ~~> expand_comprehension_via_solver ([("Base", 2000)])
[a[1],a[2];int(1..)]

--

(sum([a#matrix_to_atom[1],a#matrix_to_atom[2];int(1..)]) = 3), 
   ~~> select_representation_matrix ([("Representations", 8001)])
(sum([a#matrix_to_atom[1],a#matrix_to_atom[2];int(1..)]) = 3)

--

a#matrix_to_atom[1], 
   ~~> index_to_bubble ([("Bubble", 6000)])
{a#matrix_to_atom[1] @ and([__inDomain(1,int(1..2));int(1..)])}

--

(sum([{a#matrix_to_atom[1] @ and([__inDomain(1,int(1..2));int(1..)])},a#matrix_to_atom[2];int(1..)]) = 3), 
   ~~> constant_evaluator ([("Constant", 9001)])
(sum([a#matrix_to_atom[1],a#matrix_to_atom[2];int(1..)]) = 3)

--

a#matrix_to_atom[2], 
   ~~> index_to_bubble ([("Bubble", 6000)])
{a#matrix_to_atom[2] @ and([__inDomain(2,int(1..2));int(1..)])}

--

(sum([a#matrix_to_atom[1],{a#matrix_to_atom[2] @ and([__inDomain(2,int(1..2));int(1..)])};int(1..)]) = 3), 
   ~~> constant_evaluator ([("Constant", 9001)])
(sum([a#matrix_to_atom[1],a#matrix_to_atom[2];int(1..)]) = 3)

--

(sum([a#matrix_to_atom[1],a#matrix_to_atom[2];int(1..)]) = 3), 
   ~~> index_matrix_to_atom ([("Base", 5000)])
(sum([a#matrix_to_atom_1,a#matrix_to_atom_2;int(1..)]) = 3)

--

(sum([a#matrix_to_atom_1,a#matrix_to_atom_2;int(1..)]) = 3), 
   ~~> introduce_weighted_sumleq_sumgeq ([("Minion", 4600)])
and([SumLeq([a#matrix_to_atom_1, a#matrix_to_atom_2], 3),SumGeq([a#matrix_to_atom_1, a#matrix_to_atom_2], 3);int(1..)])

--

and([SumLeq([a#matrix_to_atom_1, a#matrix_to_atom_2], 3),SumGeq([a#matrix_to_atom_1, a#matrix_to_atom_2], 3);int(1..)]), 
   ~~> constant_evaluator ([("Constant", 9001)])
SumLeq([a#matrix_to_atom_1, a#matrix_to_atom_2], 3),
SumGeq([a#matrix_to_atom_1, a#matrix_to_atom_2], 3)

--

Final model:

find a: matrix indexed by [int(1..2)] of int(1..2)
find a#matrix_to_atom_1: int(1..2)
find a#matrix_to_atom_2: int(1..2)

such that

SumLeq([a#matrix_to_atom_1, a#matrix_to_atom_2], 3),
SumGeq([a#matrix_to_atom_1, a#matrix_to_atom_2], 3)

