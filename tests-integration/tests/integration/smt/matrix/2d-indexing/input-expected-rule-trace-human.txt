Model before rewriting:

find m: matrix indexed by [[int(0,1), int(0,1)]] of int(0,1)

such that

(sum([m[0, 0],m[1, 1];int(1..)]) = 2),
(m[0, 1] = m[1, 0])

--

m[0, 0], 
   ~~> index_to_bubble ([("Bubble", 6000)]) 
{m[0, 0] @ and([__inDomain(0,int(0,1)),__inDomain(0,int(0,1));int(1..)])} 

--

(sum([{m[0, 0] @ and([__inDomain(0,int(0,1)),__inDomain(0,int(0,1));int(1..)])},m[1, 1];int(1..)]) = 2),
(m[0, 1] = m[1, 0]), 
   ~~> constant_evaluator ([("Constant", 9001)]) 
(sum([m[0, 0],m[1, 1];int(1..)]) = 2),
(m[0, 1] = m[1, 0]) 

--

m[1, 1], 
   ~~> index_to_bubble ([("Bubble", 6000)]) 
{m[1, 1] @ and([__inDomain(1,int(0,1)),__inDomain(1,int(0,1));int(1..)])} 

--

(sum([m[0, 0],{m[1, 1] @ and([__inDomain(1,int(0,1)),__inDomain(1,int(0,1));int(1..)])};int(1..)]) = 2),
(m[0, 1] = m[1, 0]), 
   ~~> constant_evaluator ([("Constant", 9001)]) 
(sum([m[0, 0],m[1, 1];int(1..)]) = 2),
(m[0, 1] = m[1, 0]) 

--

m[0, 1], 
   ~~> index_to_bubble ([("Bubble", 6000)]) 
{m[0, 1] @ and([__inDomain(0,int(0,1)),__inDomain(1,int(0,1));int(1..)])} 

--

(sum([m[0, 0],m[1, 1];int(1..)]) = 2),
({m[0, 1] @ and([__inDomain(0,int(0,1)),__inDomain(1,int(0,1));int(1..)])} = m[1, 0]), 
   ~~> constant_evaluator ([("Constant", 9001)]) 
(sum([m[0, 0],m[1, 1];int(1..)]) = 2),
(m[0, 1] = m[1, 0]) 

--

m[1, 0], 
   ~~> index_to_bubble ([("Bubble", 6000)]) 
{m[1, 0] @ and([__inDomain(1,int(0,1)),__inDomain(0,int(0,1));int(1..)])} 

--

(sum([m[0, 0],m[1, 1];int(1..)]) = 2),
(m[0, 1] = {m[1, 0] @ and([__inDomain(1,int(0,1)),__inDomain(0,int(0,1));int(1..)])}), 
   ~~> constant_evaluator ([("Constant", 9001)]) 
(sum([m[0, 0],m[1, 1];int(1..)]) = 2),
(m[0, 1] = m[1, 0]) 

--

Final model:

find m: matrix indexed by [[int(0,1), int(0,1)]] of int(0,1)

such that

(sum([m[0, 0],m[1, 1];int(1..)]) = 2),
(m[0, 1] = m[1, 0])

