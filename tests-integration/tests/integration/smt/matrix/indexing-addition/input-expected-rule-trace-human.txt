Model before rewriting:

find a: matrix indexed by [[int(1..3)]] of int(1..3)

such that

(sum([a[1],a[2];int(1..)]) = a[3])

--

a[1], 
   ~~> index_to_bubble ([("Bubble", 6000)]) 
{a[1] @ and([__inDomain(1,int(1..3));int(1..)])} 

--

(sum([{a[1] @ and([__inDomain(1,int(1..3));int(1..)])},a[2];int(1..)]) = a[3]), 
   ~~> constant_evaluator ([("Constant", 9001)]) 
(sum([a[1],a[2];int(1..)]) = a[3]) 

--

a[2], 
   ~~> index_to_bubble ([("Bubble", 6000)]) 
{a[2] @ and([__inDomain(2,int(1..3));int(1..)])} 

--

(sum([a[1],{a[2] @ and([__inDomain(2,int(1..3));int(1..)])};int(1..)]) = a[3]), 
   ~~> constant_evaluator ([("Constant", 9001)]) 
(sum([a[1],a[2];int(1..)]) = a[3]) 

--

a[3], 
   ~~> index_to_bubble ([("Bubble", 6000)]) 
{a[3] @ and([__inDomain(3,int(1..3));int(1..)])} 

--

(sum([a[1],a[2];int(1..)]) = {a[3] @ and([__inDomain(3,int(1..3));int(1..)])}), 
   ~~> constant_evaluator ([("Constant", 9001)]) 
(sum([a[1],a[2];int(1..)]) = a[3]) 

--

Final model:

find a: matrix indexed by [[int(1..3)]] of int(1..3)

such that

(sum([a[1],a[2];int(1..)]) = a[3])

