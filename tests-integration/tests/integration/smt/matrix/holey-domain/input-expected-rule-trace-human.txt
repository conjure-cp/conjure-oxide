Model before rewriting:

find a: matrix indexed by [[int(1..2,4)]] of bool

such that

and([a[1],a[2],a[4];int(1..3)])

--

a[1], 
   ~~> index_to_bubble ([("Bubble", 6000)]) 
{a[1] @ and([__inDomain(1,int(1..2,4));int(1..)])} 

--

and([{a[1] @ and([__inDomain(1,int(1..2,4));int(1..)])},a[2],a[4];int(1..3)]), 
   ~~> constant_evaluator ([("Constant", 9001)]) 
and([a[1],a[2],a[4];int(1..3)]) 

--

a[2], 
   ~~> index_to_bubble ([("Bubble", 6000)]) 
{a[2] @ and([__inDomain(2,int(1..2,4));int(1..)])} 

--

and([a[1],{a[2] @ and([__inDomain(2,int(1..2,4));int(1..)])},a[4];int(1..3)]), 
   ~~> constant_evaluator ([("Constant", 9001)]) 
and([a[1],a[2],a[4];int(1..3)]) 

--

a[4], 
   ~~> index_to_bubble ([("Bubble", 6000)]) 
{a[4] @ and([__inDomain(4,int(1..2,4));int(1..)])} 

--

and([a[1],a[2],{a[4] @ and([__inDomain(4,int(1..2,4));int(1..)])};int(1..3)]), 
   ~~> constant_evaluator ([("Constant", 9001)]) 
and([a[1],a[2],a[4];int(1..3)]) 

--

and([a[1],a[2],a[4];int(1..3)]), 
   ~~> matrix_to_list ([("Base", 2000)]) 
and([a[1],a[2],a[4];int(1..)]) 

--

and([a[1],a[2],a[4];int(1..)]), 
   ~~> constant_evaluator ([("Constant", 9001)]) 
a[1],
a[2],
a[4] 

--

Final model:

find a: matrix indexed by [[int(1..2,4)]] of bool

such that

a[1],
a[2],
a[4]

