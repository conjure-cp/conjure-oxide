
Model before rewriting:

find x: int(1..3)
find y: int(-1..1)
find z: int(-1..1)

such that

(x = UnsafeDiv(-(UnsafeDiv(y, z)), z))

--

Successful Tranformation: 
UnsafeDiv(y, z), 
~~> div_to_bubble [6000; Bubble]
{SafeDiv(y, z) @ (z != 0)}  
--

Successful Tranformation: 
-({SafeDiv(y, z) @ (z != 0)}), 
~~> bubble_up [8900; Bubble]
{-(SafeDiv(y, z)) @ and([(z != 0);int(1..)])}  
--

Successful Tranformation: 
UnsafeDiv({-(SafeDiv(y, z)) @ and([(z != 0);int(1..)])}, z), 
~~> bubble_up [8900; Bubble]
{UnsafeDiv(-(SafeDiv(y, z)), z) @ and([and([(z != 0);int(1..)]);int(1..)])}  
--

Successful Tranformation: 
(x = {UnsafeDiv(-(SafeDiv(y, z)), z) @ and([and([(z != 0);int(1..)]);int(1..)])}), 
~~> bubble_up [8900; Bubble]
{(x = UnsafeDiv(-(SafeDiv(y, z)), z)) @ and([and([and([(z != 0);int(1..)]);int(1..)]);int(1..)])}  
--

Successful Tranformation: 
{(x = UnsafeDiv(-(SafeDiv(y, z)), z)) @ and([and([and([(z != 0);int(1..)]);int(1..)]);int(1..)])}, 
~~> expand_bubble [8900; Bubble]
and([(x = UnsafeDiv(-(SafeDiv(y, z)), z)),and([and([and([(z != 0);int(1..)]);int(1..)]);int(1..)]);int(1..)])  
--

Successful Tranformation: 
and([(x = UnsafeDiv(-(SafeDiv(y, z)), z)),and([and([and([(z != 0);int(1..)]);int(1..)]);int(1..)]);int(1..)]), 
~~> partial_evaluator [9000; Base]
(x = UnsafeDiv(-(SafeDiv(y, z)), z)),
and([and([and([(z != 0);int(1..)]);int(1..)]);int(1..)])  
--

Successful Tranformation: 
(x = UnsafeDiv(-(SafeDiv(y, z)), z)),
and([and([and([(z != 0);int(1..)]);int(1..)]);int(1..)]), 
~~> partial_evaluator [9000; Base]
(x = UnsafeDiv(-(SafeDiv(y, z)), z)),
and([and([(z != 0);int(1..)]);int(1..)])  
--

Successful Tranformation: 
(x = UnsafeDiv(-(SafeDiv(y, z)), z)),
and([and([(z != 0);int(1..)]);int(1..)]), 
~~> partial_evaluator [9000; Base]
(x = UnsafeDiv(-(SafeDiv(y, z)), z)),
and([(z != 0);int(1..)])  
--

Successful Tranformation: 
(x = UnsafeDiv(-(SafeDiv(y, z)), z)),
and([(z != 0);int(1..)]), 
~~> partial_evaluator [9000; Base]
(x = UnsafeDiv(-(SafeDiv(y, z)), z)),
(z != 0)  
--

Successful Tranformation: 
UnsafeDiv(-(SafeDiv(y, z)), z), 
~~> div_to_bubble [6000; Bubble]
{SafeDiv(-(SafeDiv(y, z)), z) @ (z != 0)}  
--

Successful Tranformation: 
(x = {SafeDiv(-(SafeDiv(y, z)), z) @ (z != 0)}), 
~~> bubble_up [8900; Bubble]
{(x = SafeDiv(-(SafeDiv(y, z)), z)) @ and([(z != 0);int(1..)])}  
--

Successful Tranformation: 
{(x = SafeDiv(-(SafeDiv(y, z)), z)) @ and([(z != 0);int(1..)])}, 
~~> expand_bubble [8900; Bubble]
and([(x = SafeDiv(-(SafeDiv(y, z)), z)),and([(z != 0);int(1..)]);int(1..)])  
--

Successful Tranformation: 
and([(x = SafeDiv(-(SafeDiv(y, z)), z)),and([(z != 0);int(1..)]);int(1..)]),
(z != 0), 
~~> partial_evaluator [9000; Base]
(x = SafeDiv(-(SafeDiv(y, z)), z)),
and([(z != 0);int(1..)]),
(z != 0)  
--

Successful Tranformation: 
(x = SafeDiv(-(SafeDiv(y, z)), z)),
and([(z != 0);int(1..)]),
(z != 0), 
~~> partial_evaluator [9000; Base]
(x = SafeDiv(-(SafeDiv(y, z)), z)),
(z != 0),
(z != 0)  
--

Successful Tranformation: 
SafeDiv(-(SafeDiv(y, z)), z), 
~~> flatten_generic [4200; Minion]
SafeDiv(__0, z) new variables:
  find __0: int(-1..1) new constraints:
  __0 =aux -(SafeDiv(y, z))

--

Successful Tranformation: 
(x = SafeDiv(__0, z)), 
~~> introduce_diveq [4200; Minion]
DivEq(__0, z, x)  
--

Successful Tranformation: 
-(SafeDiv(y, z)), 
~~> flatten_generic [4200; Minion]
-(__1) new variables:
  find __1: int(-1..1) new constraints:
  __1 =aux SafeDiv(y, z)

--

Successful Tranformation: 
__0 =aux -(__1), 
~~> introduce_minuseq_from_aux_decl [4400; Minion]
MinusEq(__0,__1)  
--

Successful Tranformation: 
__1 =aux SafeDiv(y, z), 
~~> introduce_diveq [4200; Minion]
DivEq(y, z, __1)  
--


Final model:

find x: int(1..3)
find y: int(-1..1)
find z: int(-1..1)
find __0: int(-1..1)
find __1: int(-1..1)

such that

DivEq(__0, z, x),
(z != 0),
(z != 0),
MinusEq(__0,__1),
DivEq(y, z, __1)

