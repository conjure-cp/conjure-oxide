
Model before rewriting:

find a: int(2..10)
find b: int(2..10)
find c: int(2..10)
find d: int(2..10)
find e: int(2..10)
find f: int(2..10)
find g: int(2..10)
find h: int(2..10)

such that

(Sum([Sum([Sum([Sum([Sum([Sum([Product([2, a]),Product([2, b]);int(1..2)]),Product([Product([3, c]), d]);int(1..2)]),UnsafeDiv(e, f);int(1..2)]),Product([6, UnsafeDiv(g, h)]);int(1..2)]),-(a);int(1..2)]),-(UnsafeDiv(g, h));int(1..2)]) <= 18)

--

Successful Tranformation: 
Sum([Sum([Sum([Sum([Sum([Sum([Product([2, a]),Product([2, b]);int(1..2)]),Product([Product([3, c]), d]);int(1..2)]),UnsafeDiv(e, f);int(1..2)]),Product([6, UnsafeDiv(g, h)]);int(1..2)]),-(a);int(1..2)]),-(UnsafeDiv(g, h));int(1..2)]), 
~~> normalise_associative_commutative [8900; Base]
Sum([Product([2, a]),Product([2, b]),Product([Product([3, c]), d]),UnsafeDiv(e, f),Product([6, UnsafeDiv(g, h)]),-(a),-(UnsafeDiv(g, h));int(1..2)])


--

Successful Tranformation: 
Product([Product([3, c]), d]), 
~~> normalise_associative_commutative [8900; Base]
Product([3, c, d])


--

Successful Tranformation: 
UnsafeDiv(e, f), 
~~> div_to_bubble [6000; Bubble]
{SafeDiv(e, f) @ (f != 0)}


--

Successful Tranformation: 
[Product([2, a]),Product([2, b]),Product([3, c, d]),{SafeDiv(e, f) @ (f != 0)},Product([6, UnsafeDiv(g, h)]),-(a),-(UnsafeDiv(g, h));int(1..2)], 
~~> bubble_up [8900; Bubble]
{[Product([2, a]),Product([2, b]),Product([3, c, d]),SafeDiv(e, f),Product([6, UnsafeDiv(g, h)]),-(a),-(UnsafeDiv(g, h));int(1..2)] @ and([(f != 0);int(1..)])}


--

Successful Tranformation: 
Sum({[Product([2, a]),Product([2, b]),Product([3, c, d]),SafeDiv(e, f),Product([6, UnsafeDiv(g, h)]),-(a),-(UnsafeDiv(g, h));int(1..2)] @ and([(f != 0);int(1..)])}), 
~~> bubble_up [8900; Bubble]
{Sum([Product([2, a]),Product([2, b]),Product([3, c, d]),SafeDiv(e, f),Product([6, UnsafeDiv(g, h)]),-(a),-(UnsafeDiv(g, h));int(1..2)]) @ and([and([(f != 0);int(1..)]);int(1..)])}


--

Successful Tranformation: 
({Sum([Product([2, a]),Product([2, b]),Product([3, c, d]),SafeDiv(e, f),Product([6, UnsafeDiv(g, h)]),-(a),-(UnsafeDiv(g, h));int(1..2)]) @ and([and([(f != 0);int(1..)]);int(1..)])} <= 18), 
~~> bubble_up [8900; Bubble]
{(Sum([Product([2, a]),Product([2, b]),Product([3, c, d]),SafeDiv(e, f),Product([6, UnsafeDiv(g, h)]),-(a),-(UnsafeDiv(g, h));int(1..2)]) <= 18) @ and([and([and([(f != 0);int(1..)]);int(1..)]);int(1..)])}


--

Successful Tranformation: 
{(Sum([Product([2, a]),Product([2, b]),Product([3, c, d]),SafeDiv(e, f),Product([6, UnsafeDiv(g, h)]),-(a),-(UnsafeDiv(g, h));int(1..2)]) <= 18) @ and([and([and([(f != 0);int(1..)]);int(1..)]);int(1..)])}, 
~~> expand_bubble [8900; Bubble]
and([(Sum([Product([2, a]),Product([2, b]),Product([3, c, d]),SafeDiv(e, f),Product([6, UnsafeDiv(g, h)]),-(a),-(UnsafeDiv(g, h));int(1..2)]) <= 18),and([and([and([(f != 0);int(1..)]);int(1..)]);int(1..)]);int(1..)])


--

Successful Tranformation: 
and([(Sum([Product([2, a]),Product([2, b]),Product([3, c, d]),SafeDiv(e, f),Product([6, UnsafeDiv(g, h)]),-(a),-(UnsafeDiv(g, h));int(1..2)]) <= 18),and([and([and([(f != 0);int(1..)]);int(1..)]);int(1..)]);int(1..)]), 
~~> partial_evaluator [9000; Base]
(Sum([Product([2, a]),Product([2, b]),Product([3, c, d]),SafeDiv(e, f),Product([6, UnsafeDiv(g, h)]),-(a),-(UnsafeDiv(g, h));int(1..2)]) <= 18),
and([and([and([(f != 0);int(1..)]);int(1..)]);int(1..)])


--

Successful Tranformation: 
(Sum([Product([2, a]),Product([2, b]),Product([3, c, d]),SafeDiv(e, f),Product([6, UnsafeDiv(g, h)]),-(a),-(UnsafeDiv(g, h));int(1..2)]) <= 18),
and([and([and([(f != 0);int(1..)]);int(1..)]);int(1..)]), 
~~> partial_evaluator [9000; Base]
(Sum([Product([2, a]),Product([2, b]),Product([3, c, d]),SafeDiv(e, f),Product([6, UnsafeDiv(g, h)]),-(a),-(UnsafeDiv(g, h));int(1..2)]) <= 18),
and([and([(f != 0);int(1..)]);int(1..)])


--

Successful Tranformation: 
(Sum([Product([2, a]),Product([2, b]),Product([3, c, d]),SafeDiv(e, f),Product([6, UnsafeDiv(g, h)]),-(a),-(UnsafeDiv(g, h));int(1..2)]) <= 18),
and([and([(f != 0);int(1..)]);int(1..)]), 
~~> partial_evaluator [9000; Base]
(Sum([Product([2, a]),Product([2, b]),Product([3, c, d]),SafeDiv(e, f),Product([6, UnsafeDiv(g, h)]),-(a),-(UnsafeDiv(g, h));int(1..2)]) <= 18),
and([(f != 0);int(1..)])


--

Successful Tranformation: 
(Sum([Product([2, a]),Product([2, b]),Product([3, c, d]),SafeDiv(e, f),Product([6, UnsafeDiv(g, h)]),-(a),-(UnsafeDiv(g, h));int(1..2)]) <= 18),
and([(f != 0);int(1..)]), 
~~> partial_evaluator [9000; Base]
(Sum([Product([2, a]),Product([2, b]),Product([3, c, d]),SafeDiv(e, f),Product([6, UnsafeDiv(g, h)]),-(a),-(UnsafeDiv(g, h));int(1..2)]) <= 18),
(f != 0)


--

Successful Tranformation: 
UnsafeDiv(g, h), 
~~> div_to_bubble [6000; Bubble]
{SafeDiv(g, h) @ (h != 0)}


--

Successful Tranformation: 
Product([6, {SafeDiv(g, h) @ (h != 0)}]), 
~~> bubble_up [8900; Bubble]
{Product([6, SafeDiv(g, h)]) @ and([(h != 0);int(1..)])}


--

Successful Tranformation: 
[Product([2, a]),Product([2, b]),Product([3, c, d]),SafeDiv(e, f),{Product([6, SafeDiv(g, h)]) @ and([(h != 0);int(1..)])},-(a),-(UnsafeDiv(g, h));int(1..2)], 
~~> bubble_up [8900; Bubble]
{[Product([2, a]),Product([2, b]),Product([3, c, d]),SafeDiv(e, f),Product([6, SafeDiv(g, h)]),-(a),-(UnsafeDiv(g, h));int(1..2)] @ and([and([(h != 0);int(1..)]);int(1..)])}


--

Successful Tranformation: 
Sum({[Product([2, a]),Product([2, b]),Product([3, c, d]),SafeDiv(e, f),Product([6, SafeDiv(g, h)]),-(a),-(UnsafeDiv(g, h));int(1..2)] @ and([and([(h != 0);int(1..)]);int(1..)])}), 
~~> bubble_up [8900; Bubble]
{Sum([Product([2, a]),Product([2, b]),Product([3, c, d]),SafeDiv(e, f),Product([6, SafeDiv(g, h)]),-(a),-(UnsafeDiv(g, h));int(1..2)]) @ and([and([and([(h != 0);int(1..)]);int(1..)]);int(1..)])}


--

Successful Tranformation: 
({Sum([Product([2, a]),Product([2, b]),Product([3, c, d]),SafeDiv(e, f),Product([6, SafeDiv(g, h)]),-(a),-(UnsafeDiv(g, h));int(1..2)]) @ and([and([and([(h != 0);int(1..)]);int(1..)]);int(1..)])} <= 18), 
~~> bubble_up [8900; Bubble]
{(Sum([Product([2, a]),Product([2, b]),Product([3, c, d]),SafeDiv(e, f),Product([6, SafeDiv(g, h)]),-(a),-(UnsafeDiv(g, h));int(1..2)]) <= 18) @ and([and([and([and([(h != 0);int(1..)]);int(1..)]);int(1..)]);int(1..)])}


--

Successful Tranformation: 
{(Sum([Product([2, a]),Product([2, b]),Product([3, c, d]),SafeDiv(e, f),Product([6, SafeDiv(g, h)]),-(a),-(UnsafeDiv(g, h));int(1..2)]) <= 18) @ and([and([and([and([(h != 0);int(1..)]);int(1..)]);int(1..)]);int(1..)])}, 
~~> expand_bubble [8900; Bubble]
and([(Sum([Product([2, a]),Product([2, b]),Product([3, c, d]),SafeDiv(e, f),Product([6, SafeDiv(g, h)]),-(a),-(UnsafeDiv(g, h));int(1..2)]) <= 18),and([and([and([and([(h != 0);int(1..)]);int(1..)]);int(1..)]);int(1..)]);int(1..)])


--

Successful Tranformation: 
and([(Sum([Product([2, a]),Product([2, b]),Product([3, c, d]),SafeDiv(e, f),Product([6, SafeDiv(g, h)]),-(a),-(UnsafeDiv(g, h));int(1..2)]) <= 18),and([and([and([and([(h != 0);int(1..)]);int(1..)]);int(1..)]);int(1..)]);int(1..)]),
(f != 0), 
~~> partial_evaluator [9000; Base]
(Sum([Product([2, a]),Product([2, b]),Product([3, c, d]),SafeDiv(e, f),Product([6, SafeDiv(g, h)]),-(a),-(UnsafeDiv(g, h));int(1..2)]) <= 18),
and([and([and([and([(h != 0);int(1..)]);int(1..)]);int(1..)]);int(1..)]),
(f != 0)


--

Successful Tranformation: 
(Sum([Product([2, a]),Product([2, b]),Product([3, c, d]),SafeDiv(e, f),Product([6, SafeDiv(g, h)]),-(a),-(UnsafeDiv(g, h));int(1..2)]) <= 18),
and([and([and([and([(h != 0);int(1..)]);int(1..)]);int(1..)]);int(1..)]),
(f != 0), 
~~> partial_evaluator [9000; Base]
(Sum([Product([2, a]),Product([2, b]),Product([3, c, d]),SafeDiv(e, f),Product([6, SafeDiv(g, h)]),-(a),-(UnsafeDiv(g, h));int(1..2)]) <= 18),
and([and([and([(h != 0);int(1..)]);int(1..)]);int(1..)]),
(f != 0)


--

Successful Tranformation: 
(Sum([Product([2, a]),Product([2, b]),Product([3, c, d]),SafeDiv(e, f),Product([6, SafeDiv(g, h)]),-(a),-(UnsafeDiv(g, h));int(1..2)]) <= 18),
and([and([and([(h != 0);int(1..)]);int(1..)]);int(1..)]),
(f != 0), 
~~> partial_evaluator [9000; Base]
(Sum([Product([2, a]),Product([2, b]),Product([3, c, d]),SafeDiv(e, f),Product([6, SafeDiv(g, h)]),-(a),-(UnsafeDiv(g, h));int(1..2)]) <= 18),
and([and([(h != 0);int(1..)]);int(1..)]),
(f != 0)


--

Successful Tranformation: 
(Sum([Product([2, a]),Product([2, b]),Product([3, c, d]),SafeDiv(e, f),Product([6, SafeDiv(g, h)]),-(a),-(UnsafeDiv(g, h));int(1..2)]) <= 18),
and([and([(h != 0);int(1..)]);int(1..)]),
(f != 0), 
~~> partial_evaluator [9000; Base]
(Sum([Product([2, a]),Product([2, b]),Product([3, c, d]),SafeDiv(e, f),Product([6, SafeDiv(g, h)]),-(a),-(UnsafeDiv(g, h));int(1..2)]) <= 18),
and([(h != 0);int(1..)]),
(f != 0)


--

Successful Tranformation: 
(Sum([Product([2, a]),Product([2, b]),Product([3, c, d]),SafeDiv(e, f),Product([6, SafeDiv(g, h)]),-(a),-(UnsafeDiv(g, h));int(1..2)]) <= 18),
and([(h != 0);int(1..)]),
(f != 0), 
~~> partial_evaluator [9000; Base]
(Sum([Product([2, a]),Product([2, b]),Product([3, c, d]),SafeDiv(e, f),Product([6, SafeDiv(g, h)]),-(a),-(UnsafeDiv(g, h));int(1..2)]) <= 18),
(h != 0),
(f != 0)


--

Successful Tranformation: 
UnsafeDiv(g, h), 
~~> div_to_bubble [6000; Bubble]
{SafeDiv(g, h) @ (h != 0)}


--

Successful Tranformation: 
-({SafeDiv(g, h) @ (h != 0)}), 
~~> bubble_up [8900; Bubble]
{-(SafeDiv(g, h)) @ and([(h != 0);int(1..)])}


--

Successful Tranformation: 
[Product([2, a]),Product([2, b]),Product([3, c, d]),SafeDiv(e, f),Product([6, SafeDiv(g, h)]),-(a),{-(SafeDiv(g, h)) @ and([(h != 0);int(1..)])};int(1..2)], 
~~> bubble_up [8900; Bubble]
{[Product([2, a]),Product([2, b]),Product([3, c, d]),SafeDiv(e, f),Product([6, SafeDiv(g, h)]),-(a),-(SafeDiv(g, h));int(1..2)] @ and([and([(h != 0);int(1..)]);int(1..)])}


--

Successful Tranformation: 
Sum({[Product([2, a]),Product([2, b]),Product([3, c, d]),SafeDiv(e, f),Product([6, SafeDiv(g, h)]),-(a),-(SafeDiv(g, h));int(1..2)] @ and([and([(h != 0);int(1..)]);int(1..)])}), 
~~> bubble_up [8900; Bubble]
{Sum([Product([2, a]),Product([2, b]),Product([3, c, d]),SafeDiv(e, f),Product([6, SafeDiv(g, h)]),-(a),-(SafeDiv(g, h));int(1..2)]) @ and([and([and([(h != 0);int(1..)]);int(1..)]);int(1..)])}


--

Successful Tranformation: 
({Sum([Product([2, a]),Product([2, b]),Product([3, c, d]),SafeDiv(e, f),Product([6, SafeDiv(g, h)]),-(a),-(SafeDiv(g, h));int(1..2)]) @ and([and([and([(h != 0);int(1..)]);int(1..)]);int(1..)])} <= 18), 
~~> bubble_up [8900; Bubble]
{(Sum([Product([2, a]),Product([2, b]),Product([3, c, d]),SafeDiv(e, f),Product([6, SafeDiv(g, h)]),-(a),-(SafeDiv(g, h));int(1..2)]) <= 18) @ and([and([and([and([(h != 0);int(1..)]);int(1..)]);int(1..)]);int(1..)])}


--

Successful Tranformation: 
{(Sum([Product([2, a]),Product([2, b]),Product([3, c, d]),SafeDiv(e, f),Product([6, SafeDiv(g, h)]),-(a),-(SafeDiv(g, h));int(1..2)]) <= 18) @ and([and([and([and([(h != 0);int(1..)]);int(1..)]);int(1..)]);int(1..)])}, 
~~> expand_bubble [8900; Bubble]
and([(Sum([Product([2, a]),Product([2, b]),Product([3, c, d]),SafeDiv(e, f),Product([6, SafeDiv(g, h)]),-(a),-(SafeDiv(g, h));int(1..2)]) <= 18),and([and([and([and([(h != 0);int(1..)]);int(1..)]);int(1..)]);int(1..)]);int(1..)])


--

Successful Tranformation: 
and([(Sum([Product([2, a]),Product([2, b]),Product([3, c, d]),SafeDiv(e, f),Product([6, SafeDiv(g, h)]),-(a),-(SafeDiv(g, h));int(1..2)]) <= 18),and([and([and([and([(h != 0);int(1..)]);int(1..)]);int(1..)]);int(1..)]);int(1..)]),
(h != 0),
(f != 0), 
~~> partial_evaluator [9000; Base]
(Sum([Product([2, a]),Product([2, b]),Product([3, c, d]),SafeDiv(e, f),Product([6, SafeDiv(g, h)]),-(a),-(SafeDiv(g, h));int(1..2)]) <= 18),
and([and([and([and([(h != 0);int(1..)]);int(1..)]);int(1..)]);int(1..)]),
(h != 0),
(f != 0)


--

Successful Tranformation: 
(Sum([Product([2, a]),Product([2, b]),Product([3, c, d]),SafeDiv(e, f),Product([6, SafeDiv(g, h)]),-(a),-(SafeDiv(g, h));int(1..2)]) <= 18),
and([and([and([and([(h != 0);int(1..)]);int(1..)]);int(1..)]);int(1..)]),
(h != 0),
(f != 0), 
~~> partial_evaluator [9000; Base]
(Sum([Product([2, a]),Product([2, b]),Product([3, c, d]),SafeDiv(e, f),Product([6, SafeDiv(g, h)]),-(a),-(SafeDiv(g, h));int(1..2)]) <= 18),
and([and([and([(h != 0);int(1..)]);int(1..)]);int(1..)]),
(h != 0),
(f != 0)


--

Successful Tranformation: 
(Sum([Product([2, a]),Product([2, b]),Product([3, c, d]),SafeDiv(e, f),Product([6, SafeDiv(g, h)]),-(a),-(SafeDiv(g, h));int(1..2)]) <= 18),
and([and([and([(h != 0);int(1..)]);int(1..)]);int(1..)]),
(h != 0),
(f != 0), 
~~> partial_evaluator [9000; Base]
(Sum([Product([2, a]),Product([2, b]),Product([3, c, d]),SafeDiv(e, f),Product([6, SafeDiv(g, h)]),-(a),-(SafeDiv(g, h));int(1..2)]) <= 18),
and([and([(h != 0);int(1..)]);int(1..)]),
(h != 0),
(f != 0)


--

Successful Tranformation: 
(Sum([Product([2, a]),Product([2, b]),Product([3, c, d]),SafeDiv(e, f),Product([6, SafeDiv(g, h)]),-(a),-(SafeDiv(g, h));int(1..2)]) <= 18),
and([and([(h != 0);int(1..)]);int(1..)]),
(h != 0),
(f != 0), 
~~> partial_evaluator [9000; Base]
(Sum([Product([2, a]),Product([2, b]),Product([3, c, d]),SafeDiv(e, f),Product([6, SafeDiv(g, h)]),-(a),-(SafeDiv(g, h));int(1..2)]) <= 18),
and([(h != 0);int(1..)]),
(h != 0),
(f != 0)


--

Successful Tranformation: 
(Sum([Product([2, a]),Product([2, b]),Product([3, c, d]),SafeDiv(e, f),Product([6, SafeDiv(g, h)]),-(a),-(SafeDiv(g, h));int(1..2)]) <= 18),
and([(h != 0);int(1..)]),
(h != 0),
(f != 0), 
~~> partial_evaluator [9000; Base]
(Sum([Product([2, a]),Product([2, b]),Product([3, c, d]),SafeDiv(e, f),Product([6, SafeDiv(g, h)]),-(a),-(SafeDiv(g, h));int(1..2)]) <= 18),
(h != 0),
(h != 0),
(f != 0)


--

Successful Tranformation: 
Product([6, SafeDiv(g, h)]), 
~~> flatten_generic [4200; Minion]
Product([6, __0])
new variables:
  find __0: int(0..5)
new constraints:
  __0 =aux SafeDiv(g, h)

--

Successful Tranformation: 
-(SafeDiv(g, h)), 
~~> flatten_generic [4200; Minion]
-(__1)
new variables:
  find __1: int(0..5)
new constraints:
  __1 =aux SafeDiv(g, h)

--

Successful Tranformation: 
__0 =aux SafeDiv(g, h), 
~~> introduce_diveq [4200; Minion]
DivEq(g, h, __0)


--

Successful Tranformation: 
__1 =aux SafeDiv(g, h), 
~~> introduce_diveq [4200; Minion]
DivEq(g, h, __1)


--

Successful Tranformation: 
Sum([Product([2, a]),Product([2, b]),Product([3, c, d]),SafeDiv(e, f),Product([6, __0]),-(a),-(__1);int(1..2)]), 
~~> matrix_to_list [2000; Base]
Sum([Product([2, a]),Product([2, b]),Product([3, c, d]),SafeDiv(e, f),Product([6, __0]),-(a),-(__1);int(1..)])


--

Successful Tranformation: 
(Sum([Product([2, a]),Product([2, b]),Product([3, c, d]),SafeDiv(e, f),Product([6, __0]),-(a),-(__1);int(1..)]) <= 18), 
~~> introduce_weighted_sumleq_sumgeq [4600; Minion]
FlatWeightedSumLeq([2, 2, 3, 1, 6, -1, -1],[a, b, __2, __3, __0, a, __1],18)
new variables:
  find __2: int(4..100)
  find __3: int(0..5)
new constraints:
  __2 =aux Product([c, d])
  __3 =aux SafeDiv(e, f)

--

Successful Tranformation: 
__2 =aux Product([c, d]), 
~~> introduce_producteq [4200; Minion]
FlatProductEq(d,c,__2)


--

Successful Tranformation: 
__3 =aux SafeDiv(e, f), 
~~> introduce_diveq [4200; Minion]
DivEq(e, f, __3)


--


Final model:

find a: int(2..10)
find b: int(2..10)
find c: int(2..10)
find d: int(2..10)
find e: int(2..10)
find f: int(2..10)
find g: int(2..10)
find h: int(2..10)
find __0: int(0..5)
find __1: int(0..5)
find __2: int(4..100)
find __3: int(0..5)

such that

FlatWeightedSumLeq([2, 2, 3, 1, 6, -1, -1],[a, b, __2, __3, __0, a, __1],18),
(h != 0),
(h != 0),
(f != 0),
DivEq(g, h, __0),
DivEq(g, h, __1),
FlatProductEq(d,c,__2),
DivEq(e, f, __3)

